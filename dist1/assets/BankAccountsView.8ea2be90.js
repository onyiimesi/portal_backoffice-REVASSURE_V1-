import{H as g}from"./Header.61007050.js";import{_ as k,a as u,o as a,c as l,b as s,t,d as e,w as n,e as A,s as h,F as v,k as w,f as i,h as b,r as m}from"./index.a5d27921.js";const y={name:"bankaccounts",data(){return{name:"",bankAccounts:[],role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},roless:"revenue-officer",loaderDiv:"",mainDiv:"d-none"}},async mounted(){this.role=localStorage.getItem("role"),this.roless!=this.role&&(localStorage.removeItem("token"),this.$router.push("/"));const r=await u.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=r.data.result;const _=await u.get("api/BankAccounts/bankAccounts",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.bankAccounts=_.data.result,this.loaderDiv="d-none",this.mainDiv=""}},B={id:"layout-wrapper"},N={class:"main-content"},x={class:"page-content"},C={class:"container-fluid"},D={class:"row"},I={class:"col-12"},z={class:"page-title-box d-flex align-items-center justify-content-between"},V={class:"mb-0"},S=i("Bank Accounts "),L=s("br",null,null,-1),E=i(),H={style:{"font-size":"14px","font-weight":"500"}},O=i(" // "),F={style:{"font-size":"14px","font-weight":"500"}},M={class:"page-title-right"},j={class:"breadcrumb m-0"},P={class:"breadcrumb-item"},T=i("Home"),U=s("li",{class:"breadcrumb-item active"},"Bank Accounts",-1),q={class:"row"},G={class:"col-12"},J={class:"card"},K={class:"card-body table-responsive"},Q={key:0,class:"mb-4 text-right"},R=s("i",{class:"fa fa-plus"},null,-1),W=i(" Create Bank Account"),X=b('<div class="ph-item"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div></div></div>',1),Y=[X],Z={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},$=s("thead",null,[s("tr",null,[s("th",null,"Bank Code"),s("th",null,"Bank Name"),s("th",null,"Account Number"),s("th",null,"Action")])],-1),ss=s("button",{class:"btn btn-outline-success"},"Edit Account",-1),ts=["id"],os={class:"modal-dialog modal-dialog-centered"},es={class:"modal-content"},cs=s("div",{class:"modal-header"},[s("h5",{id:"myLargeModalLabel",class:"modal-title mt-0"},"View Bank Account"),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"\xD7")])],-1),as={class:"modal-body"},ls={class:"row"},is={class:"col-6 col-md-4 mb-4"},ds={class:"form-group"},ns=s("label",{class:"control-label"},"Bank Code",-1),rs={class:"col-6 col-md-4 mb-4"},_s={class:"form-group"},us=s("label",{class:"control-label"},"Bank Name",-1),hs={class:"col-6 col-md-4 mb-4"},vs={class:"form-group"},ms=s("label",{class:"control-label"},"Account Number",-1),bs=s("hr",null,null,-1),ps=s("button",{class:"btn btn-outline-success","data-dismiss":"modal"},"Edit Account",-1),fs=b('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function gs(r,_,p,As,c,ws){const d=m("router-link"),f=m("router-view");return a(),l(v,null,[s("div",B,[s("div",N,[s("div",x,[s("div",C,[s("div",D,[s("div",I,[s("div",z,[s("h4",V,[S,L,E,s("span",H,t(c.customerDetails.organizationCode)+" // "+t(c.customerDetails.subOrganisationCode),1),O,s("span",F,t(c.customerDetails.lastName)+" "+t(c.customerDetails.firstName)+" // "+t(this.role),1)]),s("div",M,[s("ol",j,[s("li",P,[e(d,{to:"/dashboard"},{default:n(()=>[T]),_:1})]),U])])])])]),s("div",q,[s("div",G,[s("div",J,[s("div",K,[c.role==="revenue-officer"?(a(),l("div",Q,[e(d,{class:"btn btn-outline-success",to:"/create-bank-account"},{default:n(()=>[R,W]),_:1})])):A("",!0),s("div",{class:h(this.loaderDiv)},Y,2),s("div",{class:h(this.mainDiv)},[s("table",Z,[$,s("tbody",null,[(a(!0),l(v,null,w(c.bankAccounts,o=>(a(),l("tr",{key:o.bctId},[s("td",null,t(o.bctBankCode),1),s("td",null,t(o.bctAccountName),1),s("td",null,t(o.bctAccountNumber),1),s("td",null,[e(d,{to:"/edit-bank-account/"+o.bctId},{default:n(()=>[ss]),_:2},1032,["to"])]),s("div",{class:"modal fade",id:"bs-example-modal-lg-"+o.bctId,tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"},[s("div",os,[s("div",es,[cs,s("div",as,[s("div",ls,[s("div",is,[s("div",ds,[ns,s("h5",null,t(o.bctBankCode),1)])]),s("div",rs,[s("div",_s,[us,s("h5",null,t(o.bctAccountName),1)])]),s("div",hs,[s("div",vs,[ms,s("h5",null,t(o.bctAccountNumber),1)])])]),bs,e(d,{to:"/edit-bank-account/"+o.bctId},{default:n(()=>[ps]),_:2},1032,["to"])])])])],8,ts)]))),128))])])],2)])])])])])]),fs])]),e(f)],64)}var ks=k(y,[["render",gs]]);const Ns={__name:"BankAccountsView",setup(r){return(_,p)=>(a(),l("main",null,[e(g),e(ks)]))}};export{Ns as default};
