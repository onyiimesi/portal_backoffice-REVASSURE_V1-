import{H as x}from"./Header.47845ea9.js";import{_ as y,a as u,u as A,o as n,c as a,b as e,t as c,d as h,w,F as m,j as _,e as g,k as V,l as i,n as b,v as d,f as r,g as T,r as v}from"./index.e2874b00.js";const U={name:"createcustomerindividual",data(){return{errors:[],message:[],allstate:[],alllga:[],customerCode:"",fullNames:"",mobileNumber1:"",mobileNumber2:"",emailAddress:"",bvn:"",nin:"",contactAddress:"",lgaCode:"",stateCode:"",customerType:"",customerTin:"",firstname:"",lastname:"",middlename:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},role:""}},async mounted(){this.role=localStorage.getItem("role");const l=await u.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=l.data.result;const s=await u.get("api/State/allstate",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allstate=s.data.result},methods:{async onChange(l){const s=await u.get("api/Lga/alllgas/"+l.target.value,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.alllga=s.data.result},async handleCustomer(){this.errors=[],this.message=[];const l=A();this.firstname||l.error("First Name required."),this.lastname||l.error("Last Name required."),this.mobileNumber1||l.error("Mobile Number required."),this.emailAddress||l.error("Email Adrress required."),this.bvn||l.error("BVN required."),this.nin||l.error("NIN required."),this.contactAddress||l.error("Contact Address required."),this.lgaCode||l.error("LGA Code required."),this.stateCode||l.error("State Code required."),this.customerType?await u.post("api/Customer/addcustomer",{mobileNumber1:this.mobileNumber1,mobileNumber2:this.mobileNumber2,emailAddress:this.emailAddress,bvn:this.bvn,nin:this.nin,contactAddress:this.contactAddress,lgaCode:this.lgaCode,stateCode:this.stateCode,customerType:this.customerType,customerTin:this.customerTin,firstname:this.firstname,lastname:this.lastname,middlename:this.middlename},{headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Access-Control-Allow-Origin":!0}}).then(s=>{l.success(s.data.message),this.mobileNumber1="",this.mobileNumber2="",this.emailAddress="",this.bvn="",this.nin="",this.contactAddress="",this.lgaCode="",this.stateCode="",this.customerType="",this.customerTin="",this.firstname="",this.lastname="",this.middlename=""}).catch(s=>{s.response.data.title&&l.error("An error occured")}):l.error("Customer Type required.")}}},k={id:"layout-wrapper"},I={class:"main-content"},S={class:"page-content"},q={class:"container-fluid"},B={class:"row"},z={class:"col-12"},D={class:"page-title-box d-flex align-items-center justify-content-between"},M={class:"mb-0"},L=r("Create Customer "),F=e("br",null,null,-1),O=r(),E={style:{"font-size":"14px","font-weight":"500"}},H=r(),j={style:{"font-size":"14px","font-weight":"500"}},G={class:"page-title-right"},P={class:"breadcrumb m-0"},J={class:"breadcrumb-item"},K=r("Home"),Q=e("li",{class:"breadcrumb-item active"},"Create Customer",-1),R={class:"row"},W={class:"col-lg-12"},X={class:"card"},Y={class:"card-body"},Z={key:0,class:"alert alert-danger"},$=e("b",null,"Please correct the following error(s):",-1),ee={key:1,class:"alert alert-success"},se={class:"row"},te={class:"col-md-3"},oe={class:"form-group"},le=e("label",{class:"control-label"},[r("Customer Type "),e("span",{class:"text-danger"},"*")],-1),re=e("option",{value:"10"},"Individual",-1),ie=e("option",{value:"11"},"Cooperate",-1),ne=[re,ie],ae={class:"col-md-3"},de={class:"form-group"},ce=e("label",{class:"control-label"},[r("First Name "),e("span",{class:"text-danger"},"*")],-1),me={class:"col-md-3"},ue={class:"form-group"},_e=e("label",{class:"control-label"},"Middle Name (optional)",-1),he={class:"col-md-3"},pe={class:"form-group"},be=e("label",{class:"control-label"},[r("Last Name "),e("span",{class:"text-danger"},"*")],-1),ge={class:"col-md-3"},ve={class:"form-group"},fe=e("label",{class:"control-label"},[r("Email Address "),e("span",{class:"text-danger"},"*")],-1),Ce={class:"col-md-3"},Ne={class:"form-group"},xe=e("label",{class:"control-label"},[r("Mobile Number "),e("span",{class:"text-danger"},"*")],-1),ye={class:"col-md-3"},Ae={class:"form-group"},we=e("label",{class:"control-label"},"Mobile Number 2 (optional)",-1),Ve={class:"col-md-3"},Te={class:"form-group"},Ue=e("label",{class:"control-label"},[r("BVN "),e("span",{class:"text-danger"},"*")],-1),ke={class:"col-md-3"},Ie={class:"form-group"},Se=e("label",{class:"control-label"},[r("NIN "),e("span",{class:"text-danger"},"*")],-1),qe={class:"col-md-3"},Be={class:"form-group"},ze=e("label",{class:"control-label"},"TIN Number",-1),De={class:"col-md-3"},Me={class:"form-group"},Le=e("label",{class:"control-label"},[r("State "),e("span",{class:"text-danger"},"*")],-1),Fe=["value"],Oe={class:"col-md-3"},Ee={class:"form-group"},He=e("label",{class:"control-label"},[r("LGA "),e("span",{class:"text-danger"},"*")],-1),je=["value"],Ge={class:"col-md-3"},Pe={class:"form-group"},Je=e("label",{class:"control-label"},[r("Contact Address "),e("span",{class:"text-danger"},"*")],-1),Ke=e("button",{class:"btn btn-outline-success mt-4"},"Create Customer",-1),Qe=T('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function Re(l,s,f,Xe,o,p){const C=v("router-link"),N=v("router-view");return n(),a(m,null,[e("div",k,[e("div",I,[e("div",S,[e("div",q,[e("div",B,[e("div",z,[e("div",D,[e("h4",M,[L,F,O,e("span",E,c(o.customerDetails.organizationCode)+" // "+c(o.customerDetails.subOrganisationCode)+" //",1),H,e("span",j,c(o.customerDetails.lastName)+" "+c(o.customerDetails.firstName)+" // "+c(this.role),1)]),e("div",G,[e("ol",P,[e("li",J,[h(C,{to:"/dashboard"},{default:w(()=>[K]),_:1})]),Q])])])])]),e("div",R,[e("div",W,[e("div",X,[e("div",Y,[o.errors.length?(n(),a("div",Z,[$,e("ul",null,[(n(!0),a(m,null,_(o.errors,t=>(n(),a("li",null,c(t),1))),256))])])):g("",!0),o.message.length?(n(),a("div",ee,[(n(!0),a(m,null,_(o.message,t=>(n(),a("strong",null,c(t),1))),256))])):g("",!0),e("form",{onSubmit:s[14]||(s[14]=V((...t)=>p.handleCustomer&&p.handleCustomer(...t),["prevent"]))},[e("div",se,[e("div",te,[e("div",oe,[le,i(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.customerType=t),class:"form-control",id:""},ne,512),[[b,o.customerType]])])]),e("div",ae,[e("div",de,[ce,i(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>o.firstname=t)},null,512),[[d,o.firstname]])])]),e("div",me,[e("div",ue,[_e,i(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[2]||(s[2]=t=>o.middlename=t)},null,512),[[d,o.middlename]])])]),e("div",he,[e("div",pe,[be,i(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[3]||(s[3]=t=>o.lastname=t)},null,512),[[d,o.lastname]])])]),e("div",ge,[e("div",ve,[fe,i(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[4]||(s[4]=t=>o.emailAddress=t)},null,512),[[d,o.emailAddress]])])]),e("div",Ce,[e("div",Ne,[xe,i(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[5]||(s[5]=t=>o.mobileNumber1=t)},null,512),[[d,o.mobileNumber1]])])]),e("div",ye,[e("div",Ae,[we,i(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[6]||(s[6]=t=>o.mobileNumber2=t)},null,512),[[d,o.mobileNumber2]])])]),e("div",Ve,[e("div",Te,[Ue,i(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[7]||(s[7]=t=>o.bvn=t)},null,512),[[d,o.bvn]])])]),e("div",ke,[e("div",Ie,[Se,i(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[8]||(s[8]=t=>o.nin=t)},null,512),[[d,o.nin]])])]),e("div",qe,[e("div",Be,[ze,i(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[9]||(s[9]=t=>o.customerTin=t)},null,512),[[d,o.customerTin]])])]),e("div",De,[e("div",Me,[Le,i(e("select",{"onUpdate:modelValue":s[10]||(s[10]=t=>o.stateCode=t),onChange:s[11]||(s[11]=t=>p.onChange(t)),class:"form-control"},[(n(!0),a(m,null,_(o.allstate,t=>(n(),a("option",{value:t.stateCode},c(t.stateName),9,Fe))),256))],544),[[b,o.stateCode]])])]),e("div",Oe,[e("div",Ee,[He,i(e("select",{"onUpdate:modelValue":s[12]||(s[12]=t=>o.lgaCode=t),class:"form-control",id:""},[(n(!0),a(m,null,_(o.alllga,t=>(n(),a("option",{value:t.lgaCode},c(t.lgaName),9,je))),256))],512),[[b,o.lgaCode]])])]),e("div",Ge,[e("div",Pe,[Je,i(e("textarea",{class:"form-control","onUpdate:modelValue":s[13]||(s[13]=t=>o.contactAddress=t),cols:"30",rows:"5"},null,512),[[d,o.contactAddress]])])])]),Ke],32)])])])])])]),Qe])]),h(N)],64)}var We=y(U,[["render",Re]]);const $e={__name:"CreateCustomerIndView",setup(l){return(s,f)=>(n(),a("main",null,[h(x),h(We)]))}};export{$e as default};
