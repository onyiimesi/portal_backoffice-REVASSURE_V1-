import{H as y}from"./Header.747f91be.js";import{_ as T,a as _,o,c as l,b as e,k as m,l as v,v as b,e as c,F as u,j as p,d,f as N,r as f,t as s,w as C}from"./index.06a914a2.js";const g={data(){return{search:"",allcustomer:[],showsearch:!1,caris:[]}},async mounted(){const a=await _.get("api/Customer/allcustomer",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allcustomer=a.data.result},methods:{async searchCustomer(){await _.get("api/Customer/search?search="+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(a=>{this.caris=a.data.result,this.search="",this.showsearch=!0}).catch(a=>{console.log(a)})}}},I={id:"layout-wrapper"},k={class:"main-content"},O={class:"page-content"},S={class:"container-fluid"},x=N('<div class="row"><div class="col-12"><div class="page-title-box d-flex align-items-center justify-content-between"><h4 class="mb-0">Customer Search</h4><div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">Customer Search</li></ol></div></div></div></div>',1),B={class:"row"},M={class:"col-md-12"},A={key:0,class:"card"},U={class:"card-body table-responsive"},V={class:"row"},R=e("div",{class:"col-md-6"},null,-1),D={class:"col-md-6"},F={class:"d-flex"},L=e("button",{class:"btn btn-success"},"Search",-1),Y=e("hr",null,null,-1),P={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},j=e("thead",null,[e("tr",null,[e("th",null,"CUSTOMER CODE"),e("th",null,"CUSTOMER TYPE"),e("th",null,"CUSTOMER NAME"),e("th",null,"NATIONAL IDENTITY NUMBER"),e("th",null,"MOBILE NUMBER"),e("th",null,"STATE CODE"),e("th",null,"ACTION")])],-1),z={key:0,class:"text-center"},H=e("td",{colspan:"7"},[e("h3",{style:{color:"red"}},"Customer Not Found!")],-1),q=[H],G={key:0},J={key:1},K=e("button",{class:"btn btn-success btn-sm mr-2"},"View Profile",-1),Q={key:1,class:"card"},W={class:"card-body table-responsive"},X={class:"row"},Z=e("div",{class:"col-md-6"},null,-1),$={class:"col-md-6"},ee={class:"d-flex"},te=e("button",{class:"btn btn-success"},"Search",-1),se=e("hr",null,null,-1),oe={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},le=e("thead",null,[e("tr",null,[e("th",null,"CUSTOMER CODE"),e("th",null,"CUSTOMER NAME"),e("th",null,"NATIONAL IDENTITY NUMBER"),e("th",null,"MOBILE NUMBER"),e("th",null,"STATE CODE"),e("th",null,"ACTION")])],-1),re=e("button",{class:"btn btn-success btn-sm mr-2"},"View Profile",-1),ne=N('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function ae(a,r,w,de,n,i){const h=f("router-link"),E=f("router-view");return o(),l(u,null,[e("div",I,[e("div",k,[e("div",O,[e("div",S,[x,e("div",B,[e("div",M,[n.showsearch==!0?(o(),l("div",A,[e("div",U,[e("div",null,[e("form",{onSubmit:r[1]||(r[1]=m((...t)=>i.searchCustomer&&i.searchCustomer(...t),["prevent"]))},[e("div",V,[R,e("div",D,[e("div",F,[v(e("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>n.search=t),placeholder:"Enter NIN or BVN or Fullname"},null,512),[[b,n.search]]),L])])])],32)]),Y,e("table",P,[j,e("tbody",null,[n.caris.length?c("",!0):(o(),l("tr",z,q)),(o(!0),l(u,null,p(n.caris,t=>(o(),l("tr",{key:t.id},[e("td",null,s(t.customerCode),1),t.customerTYpe==10?(o(),l("td",G," Individual ")):c("",!0),t.customerTYpe==11?(o(),l("td",J," Corporate ")):c("",!0),e("td",null,s(t.firstname)+" "+s(t.lastname),1),e("td",null,s(t.nin),1),e("td",null,s(t.mobileNumber1)+" "+s(t.mobileNumber2),1),e("td",null,s(t.stateCode),1),e("td",null,[d(h,{to:"/customer-details/"+t.id},{default:C(()=>[K]),_:2},1032,["to"])])]))),128))])])])])):c("",!0),n.showsearch==!1?(o(),l("div",Q,[e("div",W,[e("div",null,[e("form",{onSubmit:r[3]||(r[3]=m((...t)=>i.searchCustomer&&i.searchCustomer(...t),["prevent"]))},[e("div",X,[Z,e("div",$,[e("div",ee,[v(e("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":r[2]||(r[2]=t=>n.search=t),placeholder:"Enter NIN or BVN or Fullname"},null,512),[[b,n.search]]),te])])])],32)]),se,e("table",oe,[le,e("tbody",null,[(o(!0),l(u,null,p(n.allcustomer,t=>(o(),l("tr",{key:t.id},[e("td",null,s(t.customerCode),1),e("td",null,s(t.firstname)+" "+s(t.lastname),1),e("td",null,s(t.nin),1),e("td",null,s(t.mobileNumber1)+" "+s(t.mobileNumber2),1),e("td",null,s(t.stateCode),1),e("td",null,[d(h,{to:"/customer-details/"+t.id},{default:C(()=>[re]),_:2},1032,["to"])])]))),128))])])])])):c("",!0)])])])]),ne])]),d(E)],64)}var ce=T(g,[["render",ae]]);const he={__name:"CreateInvoiceView",setup(a){return(r,w)=>(o(),l("main",null,[d(y),d(ce)]))}};export{he as default};
