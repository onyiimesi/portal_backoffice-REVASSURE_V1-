import{H as f}from"./Header.47845ea9.js";import{_ as C,a as _,o as a,c as d,b as s,t as e,d as c,w as m,e as h,F as u,j as b,f as i,g as N,r as g}from"./index.e2874b00.js";const y={data(){return{search:"",allcustomer:[],showsearch:!1,caris:[],customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},role:""}},async mounted(){this.role=localStorage.getItem("role");const t=await _.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=t.data.result;const n=await _.get("api/Customer/allcustomer",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allcustomer=n.data.result,setTimeout(()=>{$("#datatable").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:10,language:{searchPlaceholder:"Enter NIN, BVN or Full Name"}})})},methods:{async searchCustomer(){await _.get("api/Customer/search?search="+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(t=>{this.caris=t.data.result,this.search="",this.showsearch=!0}).catch(t=>{console.log(t)})}}},w={id:"layout-wrapper"},A={class:"main-content"},k={class:"page-content"},I={class:"container-fluid"},B={class:"row"},L={class:"col-12"},M={class:"page-title-box d-flex align-items-center justify-content-between"},E={class:"mb-0"},D=i("Create Bill "),S=s("br",null,null,-1),V=i(),T={style:{"font-size":"14px","font-weight":"500"}},x=i(),z={style:{"font-size":"14px","font-weight":"500"}},O={class:"page-title-right"},P={class:"breadcrumb m-0"},U={class:"breadcrumb-item"},R=i("Home"),F=s("li",{class:"breadcrumb-item active"},"Create Bill",-1),H={class:"row"},j={class:"col-md-12"},G={key:0,class:"card"},Y={class:"card-body table-responsive"},q={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},J=s("thead",null,[s("tr",null,[s("th",null,"CUSTOMER NUMBER"),s("th",null,"CUSTOMER NAME"),s("th",null,"NATIONAL IDENTITY NUMBER"),s("th",null,"MOBILE NUMBER"),s("th",null,"ACTION")])],-1),K={key:0,class:"text-center"},Q=s("td",{colspan:"7"},[s("h3",{style:{color:"red"}},"Customer Not Found!")],-1),W=[Q],X=["data-target"],Z=["id"],ss={class:"modal-dialog modal-dialog-centered modal-lg"},es={class:"modal-content"},os=s("div",{class:"modal-header"},[s("h5",{id:"myLargeModalLabel",class:"modal-title mt-0"},"Customer Information"),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"\xD7")])],-1),ts={class:"modal-body"},ls={class:"row"},as={class:"col-md-3 mb-4"},ds={class:"form-group"},cs=s("label",{class:"control-label"},"Customer Code",-1),is={class:"col-md-3 mb-4"},ns={class:"form-group"},rs=s("label",{class:"control-label"},"Customer Name",-1),_s={class:"col-md-3 mb-4"},ms={class:"form-group"},hs=s("label",{class:"control-label"},"Email Address",-1),us={class:"col-md-3 mb-4"},bs={class:"form-group"},gs=s("label",{class:"control-label"},"Phone Number",-1),vs={class:"col-md-3 mb-4"},ps={class:"form-group"},fs=s("label",{class:"control-label"},"Phone Number (2)",-1),Cs={class:"col-md-3 mb-4"},Ns={class:"form-group"},ys=s("label",{class:"control-label"},"Address",-1),ws={class:"col-md-3 mb-4"},As={class:"form-group"},ks=s("label",{class:"control-label"},"State",-1),Is={class:"col-md-3 mb-4"},Bs={class:"form-group"},Ls=s("label",{class:"control-label"},"LGA",-1),Ms=s("hr",null,null,-1),Es=s("button",{type:"button",class:"btn btn-outline-success","data-dismiss":"modal"},"View Profile",-1),Ds={key:1,class:"card"},Ss=s("h5",{class:"pl-3 pt-3",style:{"font-size":"16px"}},"Create bill for a customer by picking a customer from the list below.",-1),Vs=s("hr",null,null,-1),Ts={class:"card-body table-responsive"},xs={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},zs=s("thead",null,[s("tr",null,[s("th",null,"Customer Number"),s("th",null,"Customer Name"),s("th",null,"Action")])],-1),Os=["data-target"],Ps=["id"],Us={class:"modal-dialog modal-dialog-centered modal-lg"},Rs={class:"modal-content"},Fs=s("div",{class:"modal-header"},[s("h5",{id:"myLargeModalLabel",class:"modal-title mt-0"},"Customer Information"),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"\xD7")])],-1),Hs={class:"modal-body"},js={class:"row"},Gs={class:"col-md-3 mb-4"},Ys={class:"form-group"},qs=s("label",{class:"control-label"},"Customer Code",-1),Js={class:"col-md-3 mb-4"},Ks={class:"form-group"},Qs=s("label",{class:"control-label"},"Customer Name",-1),Ws={class:"col-md-3 mb-4"},Xs={class:"form-group"},Zs=s("label",{class:"control-label"},"Email Address",-1),$s={class:"col-md-3 mb-4"},se={class:"form-group"},ee=s("label",{class:"control-label"},"Phone Number",-1),oe={class:"col-md-3 mb-4"},te={class:"form-group"},le=s("label",{class:"control-label"},"Phone Number (2)",-1),ae={class:"col-md-3 mb-4"},de={class:"form-group"},ce=s("label",{class:"control-label"},"Address",-1),ie={class:"col-md-3 mb-4"},ne={class:"form-group"},re=s("label",{class:"control-label"},"State",-1),_e={class:"col-md-3 mb-4"},me={class:"form-group"},he=s("label",{class:"control-label"},"LGA",-1),ue=s("hr",null,null,-1),be=s("button",{type:"button",class:"btn btn-outline-success","data-dismiss":"modal"},"View Profile",-1),ge=N('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function ve(t,n,v,fe,l,Ce){const r=g("router-link"),p=g("router-view");return a(),d(u,null,[s("div",w,[s("div",A,[s("div",k,[s("div",I,[s("div",B,[s("div",L,[s("div",M,[s("h4",E,[D,S,V,s("span",T,e(l.customerDetails.organizationCode)+" // "+e(l.customerDetails.subOrganisationCode)+" //",1),x,s("span",z,e(l.customerDetails.lastName)+" "+e(l.customerDetails.firstName)+" // "+e(this.role),1)]),s("div",O,[s("ol",P,[s("li",U,[c(r,{to:"/dashboard"},{default:m(()=>[R]),_:1})]),F])])])])]),s("div",H,[s("div",j,[l.showsearch==!0?(a(),d("div",G,[s("div",Y,[s("table",q,[J,s("tbody",null,[l.caris.length?h("",!0):(a(),d("tr",K,W)),(a(!0),d(u,null,b(l.caris,o=>(a(),d("tr",{key:o.id},[s("td",null,e(o.customerCode),1),s("td",null,e(o.firstname)+" "+e(o.lastname),1),s("td",null,e(o.nin),1),s("td",null,e(o.mobileNumber1)+", "+e(o.mobileNumber2),1),s("td",null,[s("button",{class:"btn btn-outline-success mr-2","data-toggle":"modal","data-target":"#bs-example-modal-lg-"+t.item.customerCode},"More Details",8,X)]),s("div",{class:"modal fade",id:"bs-example-modal-lg-"+t.item.customerCode,tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"},[s("div",ss,[s("div",es,[os,s("div",ts,[s("div",ls,[s("div",as,[s("div",ds,[cs,s("h5",null,e(t.item.customerCode),1)])]),s("div",is,[s("div",ns,[rs,s("h5",null,e(t.item.firstname)+" "+e(t.item.lastname),1)])]),s("div",_s,[s("div",ms,[hs,s("h5",null,e(t.item.emailAddress),1)])]),s("div",us,[s("div",bs,[gs,s("h5",null,e(t.item.mobileNumber1),1)])]),s("div",vs,[s("div",ps,[fs,s("h5",null,e(t.item.mobileNumber2),1)])]),s("div",Cs,[s("div",Ns,[ys,s("h5",null,e(t.item.contactAddress),1)])]),s("div",ws,[s("div",As,[ks,s("h5",null,e(t.item.stateCode),1)])]),s("div",Is,[s("div",Bs,[Ls,s("h5",null,e(t.item.lgaCode),1)])])]),Ms,c(r,{to:"/customer-details/"+t.item.customerCode},{default:m(()=>[Es]),_:1},8,["to"])])])])],8,Z)]))),128))])])])])):h("",!0),l.showsearch==!1?(a(),d("div",Ds,[Ss,Vs,s("div",Ts,[s("table",xs,[zs,s("tbody",null,[(a(!0),d(u,null,b(l.allcustomer,o=>(a(),d("tr",{key:o.id},[s("td",null,e(o.customerCode),1),s("td",null,e(o.firstname)+" "+e(o.lastname),1),s("td",null,[s("button",{class:"btn btn-outline-success mr-2","data-toggle":"modal","data-target":"#bs-example-modal-lg-"+o.customerCode},"View",8,Os)]),s("div",{class:"modal fade",id:"bs-example-modal-lg-"+o.customerCode,tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"},[s("div",Us,[s("div",Rs,[Fs,s("div",Hs,[s("div",js,[s("div",Gs,[s("div",Ys,[qs,s("h5",null,e(o.customerCode),1)])]),s("div",Js,[s("div",Ks,[Qs,s("h5",null,e(o.firstname)+" "+e(o.lastname),1)])]),s("div",Ws,[s("div",Xs,[Zs,s("h5",null,e(o.emailAddress),1)])]),s("div",$s,[s("div",se,[ee,s("h5",null,e(o.mobileNumber1),1)])]),s("div",oe,[s("div",te,[le,s("h5",null,e(o.mobileNumber2),1)])]),s("div",ae,[s("div",de,[ce,s("h5",null,e(o.contactAddress),1)])]),s("div",ie,[s("div",ne,[re,s("h5",null,e(o.stateCode),1)])]),s("div",_e,[s("div",me,[he,s("h5",null,e(o.lgaCode),1)])])]),ue,c(r,{to:"/customer-details/"+o.customerCode},{default:m(()=>[be]),_:2},1032,["to"])])])])],8,Ps)]))),128))])])])])):h("",!0)])])])]),ge])]),c(p)],64)}var pe=C(y,[["render",ve]]);const we={__name:"CreateInvoiceView",setup(t){return(n,v)=>(a(),d("main",null,[c(f),c(pe)]))}};export{we as default};
