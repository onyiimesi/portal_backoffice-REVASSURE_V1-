import{H as g}from"./Header.61007050.js";import{_ as D,a as _,o as d,c as a,b as t,t as s,d as i,w as h,e as y,s as v,f as o,F as p,k as w,h as m,r as b}from"./index.a5d27921.js";const x={name:"customerdetails",data(){return{errors:[],message:[],invoice:[],customerDetails:{customerCode:"",fullNames:"",id:"",fullNames:""},role:"",customerDet:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},loaderDiv:"",mainDiv:"d-none",roles:"billing-oficer",roless:"revenue-officer"}},async mounted(){this.role=localStorage.getItem("role"),this.roles!=this.role&&this.roless!=this.role&&(localStorage.removeItem("token"),this.$router.push("/"));const l=await _.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDet=l.data.result;const c=await _.get("api/Customer/customer/"+this.$route.params.customerCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=c.data.result,this.loaderDiv="d-none",this.mainDiv="";const u=await _.get("api/Invoice/customerinvoices/"+this.$route.params.customerCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.invoice=u.data.result},computed:{convertDate(l){let c=0;return l.replace(/_+/g,()=>"// ::"[c++])}}},C={id:"layout-wrapper"},N={class:"main-content"},z={class:"page-content"},k={class:"container-fluid"},A={class:"row"},I={class:"col-12"},B={class:"page-title-box d-flex align-items-center justify-content-between"},S={class:"mb-0"},V=o("Customer Details "),P=t("br",null,null,-1),F=o(),H={style:{"font-size":"14px","font-weight":"500"}},O=o(),R={style:{"font-size":"14px","font-weight":"500"}},M={class:"page-title-right"},U={class:"breadcrumb m-0"},j={class:"breadcrumb-item"},E=o("Home"),L=t("li",{class:"breadcrumb-item active"},"Customer Details",-1),T={class:"row mb-4"},q={class:"col-md-4"},G={key:0,class:"card"},J={class:"card-body"},K={class:"mb-3"},Q=o("Create Bill"),W={class:"mb-3"},X=o("Issue Rebate"),Y={class:"mb-1"},Z=o("Update Deatails"),$={class:"card mb-4"},tt={class:"card-body"},st=m('<div class="ph-item"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div></div></div>',1),et=[st],ot=t("label",{for:""},"Customer Number",-1),it={style:{"font-size":"20px"}},lt=t("hr",null,null,-1),ct=t("label",{for:""},"Full Name",-1),dt={style:{"font-size":"20px"}},at=t("hr",null,null,-1),nt=t("label",{for:""},"Address",-1),rt={style:{"font-size":"20px"}},ht=t("hr",null,null,-1),ut=t("label",{for:""},"Contact Details",-1),_t={style:{"font-size":"20px"}},mt=t("br",null,null,-1),vt={class:"col-md-8"},pt={class:"card"},bt=t("div",{class:"card-header bg-white border-bottom"},[t("h4",{class:"text-dark"},"Recent Bills")],-1),ft={class:"card-body table-responsive"},gt={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},Dt=t("thead",null,[t("tr",null,[t("th",null,"S/N"),t("th",null,"#Invoice"),t("th",null,"Invoice Date"),t("th",null,"Amount Due"),t("th",null,"Payment Mode"),t("th",null,"Action")])],-1),yt=t("td",null,"25,000",-1),wt=t("td",null,[t("button",{class:"btn btn-outline-success btn-sm"},"View Details")],-1),xt=m('<div class="card"><div class="card-header bg-white border-bottom"><h4 class="text-dark">Recent Payments</h4></div><div class="card-body table-responsive"><table id="datatable" class="table table-bordered dt-responsive nowrap" style="border-collapse:collapse;border-spacing:0;width:100%;"><thead><tr><th>S/N</th><th>#Invoice</th><th>Payment Date</th><th>Amount Paid</th><th>Payment Mode</th><th>Action</th></tr></thead><tbody><tr><td>1</td><td>Cash</td><td>22/04/22</td><td>35,000</td><td>In-00921</td><td><button class="btn btn-outline-success btn-sm">View Details</button></td></tr></tbody></table></div></div>',1),Ct=m('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function Nt(l,c,u,kt,e,At){const n=b("router-link"),f=b("router-view");return d(),a(p,null,[t("div",C,[t("div",N,[t("div",z,[t("div",k,[t("div",A,[t("div",I,[t("div",B,[t("h4",S,[V,P,F,t("span",H,s(e.customerDet.organizationCode)+" // "+s(e.customerDet.subOrganisationCode)+" //",1),O,t("span",R,s(e.customerDet.lastName)+" "+s(e.customerDet.firstName)+" // "+s(this.role),1)]),t("div",M,[t("ol",U,[t("li",j,[i(n,{to:"/dashboard"},{default:h(()=>[E]),_:1})]),L])])])])]),t("div",T,[t("div",q,[this.role=="billing-oficer"?(d(),a("div",G,[t("div",J,[t("div",K,[i(n,{to:"/create-user-bill/"+e.customerDetails.id,style:{"font-weight":"bold","font-size":"13px","text-transform":"uppercase"},class:"btn btn-outline-success"},{default:h(()=>[Q]),_:1},8,["to"])]),t("div",W,[i(n,{to:"/customer-details/"+e.customerDetails.id,style:{"font-weight":"bold","font-size":"13px","text-transform":"uppercase"},class:"btn btn-outline-success"},{default:h(()=>[X]),_:1},8,["to"])]),t("div",Y,[i(n,{to:"/update-details/"+e.customerDetails.id,style:{"font-weight":"bold","font-size":"13px","text-transform":"uppercase"},class:"btn btn-outline-success"},{default:h(()=>[Z]),_:1},8,["to"])])])])):y("",!0),t("div",$,[t("div",tt,[t("div",{class:v(this.loaderDiv)},et,2),t("div",{class:v(this.mainDiv)},[t("div",null,[ot,t("h3",it,s(e.customerDetails.customerCode),1)]),lt,t("div",null,[ct,t("h3",dt,s(e.customerDetails.firstname)+" "+s(e.customerDetails.lastname),1)]),at,t("div",null,[nt,t("h3",rt,s(e.customerDetails.contactAddress),1)]),ht,t("div",null,[ut,t("h3",_t,[o(s(e.customerDetails.emailAddress)+" ",1),mt,o(s(e.customerDetails.mobileNumber1),1)])])],2)])])]),t("div",vt,[t("div",pt,[bt,t("div",ft,[t("table",gt,[Dt,t("tbody",null,[(d(!0),a(p,null,w(e.invoice,r=>(d(),a("tr",null,[t("td",null,s(r.id),1),t("td",null,s(r.invoiceCode),1),t("td",null,s(r.invoiceDate),1),t("td",null,s(r.invoiceAmount),1),yt,wt]))),256))])])])]),xt])])])]),Ct])]),i(f)],64)}var zt=D(x,[["render",Nt]]);const St={__name:"CustomerDetailsView",setup(l){return(c,u)=>(d(),a("main",null,[i(g),i(zt)]))}};export{St as default};
