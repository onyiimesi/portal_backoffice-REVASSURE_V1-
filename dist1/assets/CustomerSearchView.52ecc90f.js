import{H as y}from"./Header.747f91be.js";import{_ as T,a as _,o,c as l,b as t,k as m,l as b,v,e as c,F as u,j as p,d,f as N,r as f,t as s,w as C}from"./index.06a914a2.js";const g={data(){return{search:"",allcustomer:[],showsearch:!1,caris:[]}},async mounted(){const a=await _.get("api/Customer/allcustomer",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allcustomer=a.data.result},methods:{async searchCustomer(){await _.get("api/Customer/search?search="+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(a=>{this.caris=a.data.result,this.search="",this.showsearch=!0}).catch(a=>{console.log(a)})}}},S={id:"layout-wrapper"},k={class:"main-content"},O={class:"page-content"},I={class:"container-fluid"},x=N('<div class="row"><div class="col-12"><div class="page-title-box d-flex align-items-center justify-content-between"><h4 class="mb-0">Customer Search</h4><div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">Customer Search</li></ol></div></div></div></div>',1),B={class:"row"},M={class:"col-md-12"},A={key:0,class:"card"},U={class:"card-body table-responsive"},V={class:"row"},R=t("div",{class:"col-md-6"},null,-1),D={class:"col-md-6"},F={class:"d-flex"},L=t("button",{class:"btn btn-success"},"Search",-1),Y=t("hr",null,null,-1),P={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},j=t("thead",null,[t("tr",null,[t("th",null,"CUSTOMER CODE"),t("th",null,"CUSTOMER TYPE"),t("th",null,"CUSTOMER NAME"),t("th",null,"NATIONAL IDENTITY NUMBER"),t("th",null,"MOBILE NUMBER"),t("th",null,"STATE CODE"),t("th",null,"ACTION")])],-1),z={key:0,class:"text-center"},H=t("td",{colspan:"7"},[t("h3",{style:{color:"red"}},"Customer Not Found!")],-1),q=[H],G={key:0},J={key:1},K=t("button",{class:"btn btn-success btn-sm mr-2"},"View Profile",-1),Q={key:1,class:"card"},W={class:"card-body table-responsive"},X={class:"row"},Z=t("div",{class:"col-md-6"},null,-1),$={class:"col-md-6"},tt={class:"d-flex"},et=t("button",{class:"btn btn-success"},"Search",-1),st=t("hr",null,null,-1),ot={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},lt=t("thead",null,[t("tr",null,[t("th",null,"CUSTOMER CODE"),t("th",null,"CUSTOMER NAME"),t("th",null,"NATIONAL IDENTITY NUMBER"),t("th",null,"MOBILE NUMBER"),t("th",null,"STATE CODE"),t("th",null,"ACTION")])],-1),rt=t("button",{class:"btn btn-success btn-sm mr-2"},"View Profile",-1),nt=N('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function at(a,r,w,dt,n,i){const h=f("router-link"),E=f("router-view");return o(),l(u,null,[t("div",S,[t("div",k,[t("div",O,[t("div",I,[x,t("div",B,[t("div",M,[n.showsearch==!0?(o(),l("div",A,[t("div",U,[t("div",null,[t("form",{onSubmit:r[1]||(r[1]=m((...e)=>i.searchCustomer&&i.searchCustomer(...e),["prevent"]))},[t("div",V,[R,t("div",D,[t("div",F,[b(t("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>n.search=e),placeholder:"Enter NIN or BVN or Fullname"},null,512),[[v,n.search]]),L])])])],32)]),Y,t("table",P,[j,t("tbody",null,[n.caris.length?c("",!0):(o(),l("tr",z,q)),(o(!0),l(u,null,p(n.caris,e=>(o(),l("tr",{key:e.id},[t("td",null,s(e.customerCode),1),e.customerTYpe==10?(o(),l("td",G," Individual ")):c("",!0),e.customerTYpe==11?(o(),l("td",J," Corporate ")):c("",!0),t("td",null,s(e.firstname)+" "+s(e.lastname),1),t("td",null,s(e.nin),1),t("td",null,s(e.mobileNumber1)+" "+s(e.mobileNumber2),1),t("td",null,s(e.stateCode),1),t("td",null,[d(h,{to:"/customer-details/"+e.id},{default:C(()=>[K]),_:2},1032,["to"])])]))),128))])])])])):c("",!0),n.showsearch==!1?(o(),l("div",Q,[t("div",W,[t("div",null,[t("form",{onSubmit:r[3]||(r[3]=m((...e)=>i.searchCustomer&&i.searchCustomer(...e),["prevent"]))},[t("div",X,[Z,t("div",$,[t("div",tt,[b(t("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":r[2]||(r[2]=e=>n.search=e),placeholder:"Enter NIN or BVN or Fullname"},null,512),[[v,n.search]]),et])])])],32)]),st,t("table",ot,[lt,t("tbody",null,[(o(!0),l(u,null,p(n.allcustomer,e=>(o(),l("tr",{key:e.id},[t("td",null,s(e.customerCode),1),t("td",null,s(e.firstname)+" "+s(e.lastname),1),t("td",null,s(e.nin),1),t("td",null,s(e.mobileNumber1)+" "+s(e.mobileNumber2),1),t("td",null,s(e.stateCode),1),t("td",null,[d(h,{to:"/customer-details/"+e.id},{default:C(()=>[rt]),_:2},1032,["to"])])]))),128))])])])])):c("",!0)])])])]),nt])]),d(E)],64)}var ct=T(g,[["render",at]]);const ht={__name:"CustomerSearchView",setup(a){return(r,w)=>(o(),l("main",null,[d(y),d(ct)]))}};export{ht as default};
