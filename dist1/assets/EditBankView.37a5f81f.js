import{H as w}from"./Header.61007050.js";import{_ as B,a as d,u as N,o as a,c as n,b as e,t as r,d as l,w as x,F as _,k as u,e as h,l as C,n as b,v as k,f as c,h as y,r as p}from"./index.a5d27921.js";const D={name:"editbank",data(){return{errors:[],message:[],allbanks:{bankCode:"",bankName:""},customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},role:"",roless:"revenue-officer"}},async mounted(){this.role=localStorage.getItem("role"),this.roless!=this.role&&(localStorage.removeItem("token"),this.$router.push("/"));const i=await d.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=i.data.result;const s=await d.get("api/Bank/detals/"+this.$route.params.bankCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allbanks=s.data.result},methods:{async editBank(){this.errors=[],this.message=[];const i=N();this.bankName||i.error("Bank Name required.");const s=await d.put("api/Bank/editbank",{bankCode:this.allbanks.bankCode,bankName:this.allbanks.bankName},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});s?i.success(s.data.message):i.error("Incorrect Parameter")}}},S={id:"layout-wrapper"},V={class:"main-content"},z={class:"page-content"},I={class:"container-fluid"},E={class:"row"},A={class:"col-12"},H={class:"page-title-box d-flex align-items-center justify-content-between"},O={class:"mb-0"},P=c("Edit Bank "),T=e("br",null,null,-1),U=c(),F={style:{"font-size":"14px","font-weight":"500"}},M=c(" // "),j={style:{"font-size":"14px","font-weight":"500"}},q={class:"page-title-right"},L={class:"breadcrumb m-0"},G={class:"breadcrumb-item"},J=c("Home"),K=e("li",{class:"breadcrumb-item active"},"Edit Bank",-1),Q={class:"row"},R={class:"col-12"},W={class:"card"},X={class:"card-body table-responsive"},Y={key:0,class:"alert alert-danger"},Z=e("b",null,"Please correct the following error(s):",-1),$={key:1,class:"alert alert-success"},ee={class:"row"},se={class:"col-md-6"},te={class:"form-group"},oe=e("label",{class:"control-label"},"Bank Code",-1),ae={class:"col-md-6"},ne={class:"form-group"},ie=e("label",{class:"control-label"},"Bank Name",-1),re=e("button",{class:"btn btn-outline-success mt-4"},"Edit",-1),le=y('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function ce(i,s,v,_e,t,m){const g=p("router-link"),f=p("router-view");return a(),n(_,null,[e("div",S,[e("div",V,[e("div",z,[e("div",I,[e("div",E,[e("div",A,[e("div",H,[e("h4",O,[P,T,U,e("span",F,r(t.customerDetails.organizationCode)+" // "+r(t.customerDetails.subOrganisationCode),1),M,e("span",j,r(t.customerDetails.lastName)+" "+r(t.customerDetails.firstName)+" // "+r(this.role),1)]),e("div",q,[e("ol",L,[e("li",G,[l(g,{to:"/dashboard"},{default:x(()=>[J]),_:1})]),K])])])])]),e("div",Q,[e("div",R,[e("div",W,[e("div",X,[t.errors.length?(a(),n("div",Y,[Z,e("ul",null,[(a(!0),n(_,null,u(t.errors,o=>(a(),n("li",null,r(o),1))),256))])])):h("",!0),t.message.length?(a(),n("div",$,[(a(!0),n(_,null,u(t.message,o=>(a(),n("strong",null,r(o),1))),256))])):h("",!0),e("form",{onSubmit:s[2]||(s[2]=C((...o)=>m.editBank&&m.editBank(...o),["prevent"]))},[e("div",ee,[e("div",se,[e("div",te,[oe,b(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>t.allbanks.bankCode=o)},null,512),[[k,t.allbanks.bankCode]])])]),e("div",ae,[e("div",ne,[ie,b(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>t.allbanks.bankName=o)},null,512),[[k,t.allbanks.bankName]])])])]),re],32)])])])])])]),le])]),l(f)],64)}var de=B(D,[["render",ce]]);const he={__name:"EditBankView",setup(i){return(s,v)=>(a(),n("main",null,[l(w),l(de)]))}};export{he as default};
