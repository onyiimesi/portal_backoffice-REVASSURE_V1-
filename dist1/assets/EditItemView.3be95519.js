import{H as C}from"./Header.747f91be.js";import{_ as x,a as m,o as i,c as l,b as e,F as a,j as d,e as f,k as y,l as r,n as u,v as _,d as p,f as g,r as R,t as c}from"./index.06a914a2.js";const I={name:"edititem",data(){return{errors:[],message:[],allitem:[],allorg:[],tax:[],allitems:{itemCode:"",itemName:"",organisationCode:"",subOrganisationCode:"",remitaRevenueReference:"",gifmisReferenceCode:"",price:"",taxType:""}}},methods:{async editItem(){this.errors=[],this.message=[],this.allitems.itemCode||this.errors.push("Item Code required."),this.allitems.itemName||this.errors.push("Item Name required."),this.allitems.organisationCode||this.errors.push("Organisation Code required."),this.allitems.subOrganisationCode||this.errors.push("Sub-Organisation Code required."),this.allitems.remitaRevenueReference||this.errors.push("Remita Revenue Code required."),this.allitems.gifmisReferenceCode||this.errors.push("GIFMIS Ref Code required."),this.allitems.price||this.errors.push("Price required."),this.allitems.taxType||this.errors.push("Tax Type required.");const n=await m.put("api/Organisation/edit",{itemCode:this.itemCode,itemName:this.itemName,organisationCode:this.organisationCode,subOrganisationCode:this.subOrganisationCode,remitaRevenueReference:this.remitaRevenueReference,gifmisReferenceCode:this.gifmisReferenceCode,price:this.price,taxType:this.taxType},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});n?this.message.push(n.data.message):this.errors.push("Incorrect Parameter")}},async mounted(){const n=await m.get("api/ItemHeader/items",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allitem=n.data.result;const o=await m.get("api/Organisation/organizations",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allorg=o.data.result;const h=await m.get("api/Taxtype/alltaxtypes",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.tax=h.data.result}},w={id:"layout-wrapper"},N={class:"main-content"},O={class:"page-content"},T={class:"container-fluid"},S=g('<div class="row"><div class="col-12"><div class="page-title-box d-flex align-items-center justify-content-between"><h4 class="mb-0">Edit Item</h4><div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">Edit Item</li></ol></div></div></div></div>',1),V={class:"row"},k={class:"col-12"},B={class:"card"},q={class:"card-body table-responsive"},U={key:0,class:"alert alert-danger"},z=e("b",null,"Please correct the following error(s):",-1),E={key:1,class:"alert alert-success"},M={class:"row"},P={class:"col-md-12"},A={class:"form-group"},F=e("label",{class:"control-label"},"Item Code",-1),j=e("option",null,"Choose",-1),H=["value"],D={class:"col-md-12"},G={class:"form-group"},L=e("label",{class:"control-label"},"Item Name",-1),J=e("option",null,"Choose",-1),K=["value"],Q={class:"col-md-12"},W={class:"form-group"},X=e("label",{class:"control-label"},"Organisation Code",-1),Y=e("option",null,"Choose",-1),Z=["value"],$={class:"col-md-12"},ee={class:"form-group"},se=e("label",{class:"control-label"},"Sub-Organisation Name",-1),te={class:"col-md-12"},oe={class:"form-group"},ie=e("label",{class:"control-label"},"Remita Revenue",-1),le={class:"col-md-12"},re={class:"form-group"},ae=e("label",{class:"control-label"},"GIFMIS Ref Code",-1),ne={class:"col-md-12"},de={class:"form-group"},ce=e("label",{class:"control-label"},"Price",-1),me={class:"col-md-12"},ue={class:"form-group"},_e=e("label",{class:"control-label"},"TaxType",-1),he=e("option",null,"Choose",-1),pe=["value"],ve=e("button",{class:"btn btn-success mr-4 float-left"},"Save",-1),fe=g('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function ge(n,o,h,Ce,t,v){const b=R("router-view");return i(),l(a,null,[e("div",w,[e("div",N,[e("div",O,[e("div",T,[S,e("div",V,[e("div",k,[e("div",B,[e("div",q,[t.errors.length?(i(),l("div",U,[z,e("ul",null,[(i(!0),l(a,null,d(t.errors,s=>(i(),l("li",null,c(s),1))),256))])])):f("",!0),t.message.length?(i(),l("div",E,[(i(!0),l(a,null,d(t.message,s=>(i(),l("strong",null,c(s),1))),256))])):f("",!0),e("form",{onSubmit:o[8]||(o[8]=y((...s)=>v.editItem&&v.editItem(...s),["prevent"]))},[e("div",M,[e("div",P,[e("div",A,[F,r(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>t.allitems.itemCode=s),class:"form-control",id:""},[j,(i(!0),l(a,null,d(t.allitem,s=>(i(),l("option",{value:s.itemCode},c(s.itemCode),9,H))),256))],512),[[u,t.allitems.itemCode]])])]),e("div",D,[e("div",G,[L,r(e("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.allitems.itemName=s),class:"form-control",id:""},[J,(i(!0),l(a,null,d(t.allitem,s=>(i(),l("option",{value:s.itemName},c(s.itemName),9,K))),256))],512),[[u,t.allitems.itemName]])])]),e("div",Q,[e("div",W,[X,r(e("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>t.allitems.organisationCode=s),class:"form-control",id:""},[Y,(i(!0),l(a,null,d(t.allorg,s=>(i(),l("option",{value:s.organisationCode},c(s.organisationCode),9,Z))),256))],512),[[u,t.allitems.organisationCode]])])]),e("div",$,[e("div",ee,[se,r(e("input",{class:"form-control",type:"text","onUpdate:modelValue":o[3]||(o[3]=s=>t.allitems.subOrganisationCode=s)},null,512),[[_,t.allitems.subOrganisationCode]])])]),e("div",te,[e("div",oe,[ie,r(e("input",{class:"form-control",type:"text","onUpdate:modelValue":o[4]||(o[4]=s=>t.allitems.remitaRevenueReference=s)},null,512),[[_,t.allitems.remitaRevenueReference]])])]),e("div",le,[e("div",re,[ae,r(e("input",{class:"form-control",type:"text","onUpdate:modelValue":o[5]||(o[5]=s=>t.allitems.gifmisReferenceCode=s)},null,512),[[_,t.allitems.gifmisReferenceCode]])])]),e("div",ne,[e("div",de,[ce,r(e("input",{class:"form-control",type:"text","onUpdate:modelValue":o[6]||(o[6]=s=>t.allitems.price=s)},null,512),[[_,t.allitems.price]])])]),e("div",me,[e("div",ue,[_e,r(e("select",{"onUpdate:modelValue":o[7]||(o[7]=s=>t.allitems.taxType=s),class:"form-control",id:""},[he,(i(!0),l(a,null,d(t.tax,s=>(i(),l("option",{value:s.taxTypeName},c(s.taxTypeName),9,pe))),256))],512),[[u,t.allitems.taxType]])])])]),ve],32)])])])])])]),fe])]),p(b)],64)}var be=x(I,[["render",ge]]);const Re={__name:"EditItemView",setup(n){return(o,h)=>(i(),l("main",null,[p(C),p(be)]))}};export{Re as default};
