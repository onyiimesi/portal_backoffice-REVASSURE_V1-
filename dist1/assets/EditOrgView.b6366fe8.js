import{H as w}from"./Header.47845ea9.js";import{_ as x,a as g,u as y,o as r,c as a,b as s,t as n,d as c,w as O,F as u,j as h,e as p,k as A,l,v as d,f as m,g as C,r as f}from"./index.e2874b00.js";const E={name:"editorg",data(){return{errors:[],message:[],allorg:{organisationCode:"",organisationName:"",organisationEmail:"",organisationPhoneNumber:"",organisationAddress:"",organisationWebsite:""},role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""}}},async mounted(){this.role=localStorage.getItem("role");const i=await g.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=i.data.result;const o=await g.get("api/Organisation/details/"+this.$route.params.organisationCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allorg=o.data.result},methods:{async editOrg(){this.errors=[],this.message=[];const i=y();this.allorg.organisationName||i.error("Organisation Name required."),this.allorg.organisationEmail||i.error("Email Address required."),this.allorg.organisationPhoneNumber||i.error("Phone Number required."),this.allorg.organisationAddress||i.error("Office Address required."),this.allorg.organisationWebsite||i.error("Website required.");const o=await g.put("api/Organisation/edit",{organisationCode:this.customerDetails.organizationCode,organisationName:this.allorg.organisationName,emailAddress:this.allorg.organisationEmail,phoneNumber:this.allorg.organisationPhoneNumber,officeAddress:this.allorg.organisationAddress,website:this.allorg.organisationWebsite},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});o?i.success(o.data.message):i.error("Incorrect Parameter")}}},k={id:"layout-wrapper"},V={class:"main-content"},z={class:"page-content"},D={class:"container-fluid"},P={class:"row"},B={class:"col-12"},S={class:"page-title-box d-flex align-items-center justify-content-between"},U={class:"mb-0"},W=m("Edit Organization "),I=s("br",null,null,-1),q=m(),H={style:{"font-size":"14px","font-weight":"500"}},T=m(" // "),j={style:{"font-size":"14px","font-weight":"500"}},F={class:"page-title-right"},M={class:"breadcrumb m-0"},L={class:"breadcrumb-item"},G=m("Home"),J=s("li",{class:"breadcrumb-item active"},"Edit Organisation",-1),K={class:"row ssss"},Q={class:"col-12"},R={class:"card"},X={class:"card-body table-responsive"},Y={key:0,class:"alert alert-danger"},Z={key:1,class:"alert alert-success"},$={class:"col-md-12"},ss={class:"form-group"},os={class:"row"},es={class:"col-md-4"},ts={class:"form-group"},is=s("label",{class:"control-label"},"Organisation Name",-1),rs={class:"col-md-4"},as={class:"form-group"},ns=s("label",{class:"control-label"},"Email Address",-1),ls={class:"col-md-4"},ds={class:"form-group"},cs=s("label",{class:"control-label"},"Phone Number",-1),ms={class:"col-md-4"},gs={class:"form-group"},us=s("label",{class:"control-label"},"Office Address",-1),_s={class:"col-md-4"},hs={class:"form-group"},ps=s("label",{class:"control-label"},"Website",-1),fs=s("button",{class:"btn btn-outline-success mt-4"},"Edit",-1),bs=C('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function vs(i,o,b,ws,e,_){const v=f("router-link"),N=f("router-view");return r(),a(u,null,[s("div",k,[s("div",V,[s("div",z,[s("div",D,[s("div",P,[s("div",B,[s("div",S,[s("h4",U,[W,I,q,s("span",H,n(e.customerDetails.organizationCode)+" // "+n(e.customerDetails.subOrganisationCode),1),T,s("span",j,n(e.customerDetails.lastName)+" "+n(e.customerDetails.firstName)+" // "+n(this.role),1)]),s("div",F,[s("ol",M,[s("li",L,[c(v,{to:"/dashboard"},{default:O(()=>[G]),_:1})]),J])])])])]),s("div",K,[s("div",Q,[s("div",R,[s("div",X,[e.errors.length?(r(),a("div",Y,[(r(!0),a(u,null,h(e.errors,t=>(r(),a("p",null,n(t),1))),256))])):p("",!0),e.message.length?(r(),a("div",Z,[(r(!0),a(u,null,h(e.message,t=>(r(),a("strong",null,n(t),1))),256))])):p("",!0),s("form",{onSubmit:o[6]||(o[6]=A((...t)=>_.editOrg&&_.editOrg(...t),["prevent"]))},[s("div",null,[s("div",$,[s("div",ss,[l(s("input",{class:"form-control",type:"hidden","onUpdate:modelValue":o[0]||(o[0]=t=>e.customerDetails.organizationCode=t)},null,512),[[d,e.customerDetails.organizationCode]])])])]),s("div",os,[s("div",es,[s("div",ts,[is,l(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>e.allorg.organisationName=t)},null,512),[[d,e.allorg.organisationName]])])]),s("div",rs,[s("div",as,[ns,l(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[2]||(o[2]=t=>e.allorg.organisationEmail=t)},null,512),[[d,e.allorg.organisationEmail]])])]),s("div",ls,[s("div",ds,[cs,l(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[3]||(o[3]=t=>e.allorg.organisationPhoneNumber=t)},null,512),[[d,e.allorg.organisationPhoneNumber]])])]),s("div",ms,[s("div",gs,[us,l(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[4]||(o[4]=t=>e.allorg.organisationAddress=t)},null,512),[[d,e.allorg.organisationAddress]])])]),s("div",_s,[s("div",hs,[ps,l(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[5]||(o[5]=t=>e.allorg.organisationWebsite=t)},null,512),[[d,e.allorg.organisationWebsite]])])])]),fs],32)])])])])])]),bs])]),c(N)],64)}var Ns=x(E,[["render",vs]]);const Os={__name:"EditOrgView",setup(i){return(o,b)=>(r(),a("main",null,[c(w),c(Ns)]))}};export{Os as default};
