import{H as S}from"./Header.61007050.js";import{_ as N,a as d,u as x,o as a,c as i,b as t,t as r,d as l,w as k,F as _,k as u,e as h,l as y,n as p,v,f as c,h as C,r as g}from"./index.a5d27921.js";const D={name:"editstate",data(){return{errors:[],message:[],states:{id:"",stateName:""},customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},role:"",roless:"revenue-officer"}},async mounted(){this.role=localStorage.getItem("role"),this.roless!=this.role&&(localStorage.removeItem("token"),this.$router.push("/"));const n=await d.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=n.data.result;const e=await d.get("api/State/state/"+this.$route.params.stateCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.states=e.data.result},methods:{async editState(){this.errors=[],this.message=[];const n=x(),e=await d.put("api/State/editstate",{id:this.states.id,stateName:this.states.stateName},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});e?n.success(e.data.message):n.error("Incorrect Parameter")}}},V={id:"layout-wrapper"},z={class:"main-content"},B={class:"page-content"},I={class:"container-fluid"},E={class:"row"},A={class:"col-12"},H={class:"page-title-box d-flex align-items-center justify-content-between"},O={class:"mb-0"},P=c("Edit State "),T=t("br",null,null,-1),U=c(),F={style:{"font-size":"14px","font-weight":"500"}},M=c(" // "),j={style:{"font-size":"14px","font-weight":"500"}},L={class:"page-title-right"},q={class:"breadcrumb m-0"},G={class:"breadcrumb-item"},J=c("Home"),K=t("li",{class:"breadcrumb-item active"},"Edit State",-1),Q={class:"row"},R={class:"col-12"},W={class:"card"},X={class:"card-body table-responsive"},Y={key:0,class:"alert alert-danger"},Z=t("b",null,"Please correct the following error(s):",-1),$={key:1,class:"alert alert-success"},tt={class:"row"},et={class:"col-md-12"},st={class:"form-group"},ot={class:"col-md-12"},at={class:"form-group"},it=t("label",{class:"control-label"},"State Name",-1),rt=t("button",{class:"btn btn-outline-success mt-3"},"Edit",-1),nt=C('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function lt(n,e,f,dt,s,m){const b=g("router-link"),w=g("router-view");return a(),i(_,null,[t("div",V,[t("div",z,[t("div",B,[t("div",I,[t("div",E,[t("div",A,[t("div",H,[t("h4",O,[P,T,U,t("span",F,r(s.customerDetails.organizationCode)+" // "+r(s.customerDetails.subOrganisationCode),1),M,t("span",j,r(s.customerDetails.lastName)+" "+r(s.customerDetails.firstName)+" // "+r(this.role),1)]),t("div",L,[t("ol",q,[t("li",G,[l(b,{to:"/dashboard"},{default:k(()=>[J]),_:1})]),K])])])])]),t("div",Q,[t("div",R,[t("div",W,[t("div",X,[s.errors.length?(a(),i("div",Y,[Z,t("ul",null,[(a(!0),i(_,null,u(s.errors,o=>(a(),i("li",null,r(o),1))),256))])])):h("",!0),s.message.length?(a(),i("div",$,[(a(!0),i(_,null,u(s.message,o=>(a(),i("strong",null,r(o),1))),256))])):h("",!0),t("form",{onSubmit:e[2]||(e[2]=y((...o)=>m.editState&&m.editState(...o),["prevent"]))},[t("div",tt,[t("div",et,[t("div",st,[p(t("input",{class:"form-control",type:"hidden","onUpdate:modelValue":e[0]||(e[0]=o=>s.states.id=o)},null,512),[[v,s.states.id]])])]),t("div",ot,[t("div",at,[it,p(t("input",{class:"form-control",type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>s.states.stateName=o)},null,512),[[v,s.states.stateName]])])])]),rt],32)])])])])])]),nt])]),l(w)],64)}var ct=N(D,[["render",lt]]);const ut={__name:"EditStateView",setup(n){return(e,f)=>(a(),i("main",null,[l(S),l(ct)]))}};export{ut as default};
