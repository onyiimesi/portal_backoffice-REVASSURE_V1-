import{H as w}from"./Header.47845ea9.js";import{_ as N,a as d,o as i,c as a,b as s,t as r,d as l,w as S,F as u,j as m,e as g,k as x,l as h,v as b,f as c,g as y,r as p}from"./index.e2874b00.js";const C={name:"editsuborg",data(){return{errors:[],message:[],allsuborg:{subOrganisationCode:"",subOrganisationName:""},customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},role:""}},async mounted(){this.role=localStorage.getItem("role");const n=await d.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=n.data.result;const t=await d.get("api/SubOrganisation/details/"+this.$route.params.subOrganisationCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allsuborg=t.data.result},methods:{async editSubOrg(){this.errors=[],this.message=[];const n=await d.put("api/SubOrganisation/edit",{subOrganisationCode:this.allsuborg.subOrganisationCode,subOrganisationName:this.allsuborg.subOrganisationName},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});n?this.message.push(n.data.message):this.errors.push("Incorrect Parameter")}}},k={id:"layout-wrapper"},D={class:"main-content"},V={class:"page-content"},z={class:"container-fluid"},B={class:"row"},E={class:"col-12"},I={class:"page-title-box d-flex align-items-center justify-content-between"},A={class:"mb-0"},H=c("Edit Sub-Organisation "),P=s("br",null,null,-1),U=c(),j={style:{"font-size":"14px","font-weight":"500"}},F=c(),M={style:{"font-size":"14px","font-weight":"500"}},T={class:"page-title-right"},L={class:"breadcrumb m-0"},q={class:"breadcrumb-item"},G=c("Home"),J=s("li",{class:"breadcrumb-item active"},"Edit Sub-Organisation",-1),K={class:"row"},Q={class:"col-12"},R={class:"card"},W={class:"card-body table-responsive"},X={key:0,class:"alert alert-danger"},Y=s("b",null,"Please correct the following error(s):",-1),Z={key:1,class:"alert alert-success"},$={class:"row"},ss={class:"col-md-12"},es={class:"form-group"},ts=s("label",{class:"control-label"},"Name",-1),os=s("button",{class:"btn btn-outline-success mr-4 float-left"},"Edit",-1),is=y('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function as(n,t,v,ns,e,_){const f=p("router-link"),O=p("router-view");return i(),a(u,null,[s("div",k,[s("div",D,[s("div",V,[s("div",z,[s("div",B,[s("div",E,[s("div",I,[s("h4",A,[H,P,U,s("span",j,r(e.customerDetails.organizationCode)+" // "+r(e.customerDetails.subOrganisationCode)+" //",1),F,s("span",M,r(e.customerDetails.lastName)+" "+r(e.customerDetails.firstName)+" // "+r(this.role),1)]),s("div",T,[s("ol",L,[s("li",q,[l(f,{to:"/dashboard"},{default:S(()=>[G]),_:1})]),J])])])])]),s("div",K,[s("div",Q,[s("div",R,[s("div",W,[e.errors.length?(i(),a("div",X,[Y,s("ul",null,[(i(!0),a(u,null,m(e.errors,o=>(i(),a("li",null,r(o),1))),256))])])):g("",!0),e.message.length?(i(),a("div",Z,[(i(!0),a(u,null,m(e.message,o=>(i(),a("strong",null,r(o),1))),256))])):g("",!0),s("form",{onSubmit:t[2]||(t[2]=x((...o)=>_.editSubOrg&&_.editSubOrg(...o),["prevent"]))},[h(s("input",{class:"form-control",type:"hidden","onUpdate:modelValue":t[0]||(t[0]=o=>e.allsuborg.subOrganisationCode=o)},null,512),[[b,e.allsuborg.subOrganisationCode]]),s("div",$,[s("div",ss,[s("div",es,[ts,h(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>e.allsuborg.subOrganisationName=o)},null,512),[[b,e.allsuborg.subOrganisationName]])])])]),os],32)])])])])])]),is])]),l(O)],64)}var rs=N(C,[["render",as]]);const ds={__name:"EditSubOrgView",setup(n){return(t,v)=>(i(),a("main",null,[l(w),l(rs)]))}};export{ds as default};
