import{H as k}from"./Header.47845ea9.js";import{_ as g,a as n,u as I,o as r,c as i,b as e,t as a,F as c,j as u,e as _,k as b,l as w,v as h,d,f as D,g as p,r as F}from"./index.e2874b00.js";const x={name:"editsuborg",data(){return{errors:[],message:[],work:{workFlowItemDescription:"",workFlowItemID:""},customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},role:""}},async mounted(){this.role=localStorage.getItem("role");const l=await n.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=l.data.result;const t=await n.get("api/WorkFlowItem/Details/"+this.$route.params.workFlowItemID,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.work=t.data.result},methods:{async editWorkflow(){this.errors=[],this.message=[];const l=I(),t=await n.put("api/WorkFlowItem/EditItem",{workFlowItemID:this.work.workFlowItemID,description:this.work.workFlowItemDescription},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});t?l.success(t.data.message):l.error("Incorrect Parameter")}}},y={id:"layout-wrapper"},N={class:"main-content"},W={class:"page-content"},B={class:"container-fluid"},V={class:"row"},E={class:"col-12"},S={class:"page-title-box d-flex align-items-center justify-content-between"},z={class:"mb-0"},A=D("Edit Workflow, "),C={style:{"font-size":"14px","font-weight":"500"}},j=p('<div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">Edit Workflow</li></ol></div>',1),O={class:"row"},P={class:"col-12"},T={class:"card"},U={class:"card-body table-responsive"},H={key:0,class:"alert alert-danger"},M=e("b",null,"Please correct the following error(s):",-1),L={key:1,class:"alert alert-success"},q={class:"row"},G={class:"col-md-12"},J={class:"form-group"},K=e("label",{class:"control-label"},"Description",-1),Q=e("button",{class:"btn btn-success mr-4 float-left"},"Edit",-1),R=p('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function X(l,t,f,Z,s,m){const v=F("router-view");return r(),i(c,null,[e("div",y,[e("div",N,[e("div",W,[e("div",B,[e("div",V,[e("div",E,[e("div",S,[e("h4",z,[A,e("span",C,a(s.customerDetails.lastName)+" "+a(s.customerDetails.firstName)+" - "+a(this.role),1)]),j])])]),e("div",O,[e("div",P,[e("div",T,[e("div",U,[s.errors.length?(r(),i("div",H,[M,e("ul",null,[(r(!0),i(c,null,u(s.errors,o=>(r(),i("li",null,a(o),1))),256))])])):_("",!0),s.message.length?(r(),i("div",L,[(r(!0),i(c,null,u(s.message,o=>(r(),i("strong",null,a(o),1))),256))])):_("",!0),e("form",{onSubmit:t[2]||(t[2]=b((...o)=>m.editWorkflow&&m.editWorkflow(...o),["prevent"]))},[w(e("input",{class:"form-control",type:"hidden","onUpdate:modelValue":t[0]||(t[0]=o=>s.work.workFlowItemID=o)},null,512),[[h,s.work.workFlowItemID]]),e("div",q,[e("div",G,[e("div",J,[K,w(e("input",{class:"form-control",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>s.work.workFlowItemDescription=o)},null,512),[[h,s.work.workFlowItemDescription]])])])]),Q],32)])])])])])]),R])]),d(v)],64)}var Y=g(x,[["render",X]]);const te={__name:"EditWorkflowView",setup(l){return(t,f)=>(r(),i("main",null,[d(k),d(Y)]))}};export{te as default};
