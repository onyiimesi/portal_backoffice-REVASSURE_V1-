import{H as A}from"./Header.61007050.js";import{_ as x,a as b,o as a,c as d,b as s,t as o,d as n,w as h,l as v,n as g,v as p,F as u,k as f,e as m,f as c,h as C,r as w}from"./index.a5d27921.js";const N={name:"listlga",data(){return{search:"",showsearch:!1,caris:[],customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},role:"",roless:"revenue-officer"}},async mounted(){this.role=localStorage.getItem("role"),this.roless!=this.role&&(localStorage.removeItem("token"),this.$router.push("/"));const i=await b.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=i.data.result},methods:{async searchLGA(){await b.get("api/Lga/alllgas/"+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(i=>{this.caris=i.data.result,setTimeout(()=>{$("#datatable").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:10})}),this.search="",this.showsearch=!0}).catch(i=>{console.log(i)})}}},k={id:"layout-wrapper"},G={class:"main-content"},S={class:"page-content"},D={class:"container-fluid"},V={class:"row"},E={class:"col-12"},z={class:"page-title-box d-flex align-items-center justify-content-between"},B={class:"mb-0"},I=c("LGA "),M=s("br",null,null,-1),O=c(),T={style:{"font-size":"14px","font-weight":"500"}},H=c(),U={style:{"font-size":"14px","font-weight":"500"}},F={class:"page-title-right"},j={class:"breadcrumb m-0"},P={class:"breadcrumb-item"},q=c("Home"),J=s("li",{class:"breadcrumb-item active"},"LGA",-1),K={class:"row"},Q={class:"col-md-12"},R={key:0,class:"card"},W={class:"card-body table-responsive"},X={class:"row"},Y=s("div",{class:"col-md-6"},null,-1),Z={class:"col-md-6"},ss={class:"d-flex"},es=s("button",{class:"btn btn-outline-success"},"Search",-1),ts=s("hr",null,null,-1),os={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},ls=s("thead",null,[s("tr",null,[s("th",null,"LGA CODE"),s("th",null,"LGA NAME"),s("th",null,"ACTION")])],-1),as=["data-target"],ds=["id"],is={class:"modal-dialog modal-dialog-centered"},ns={class:"modal-content"},cs=s("div",{class:"modal-header"},[s("h5",{id:"myLargeModalLabel",class:"modal-title mt-0"},"View LGA"),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"\xD7")])],-1),rs={class:"modal-body"},_s={class:"row"},hs={class:"col-md-6 mb-4"},us={class:"form-group"},ms=s("label",{class:"control-label"},"LGA Code",-1),bs={class:"col-md-6 mb-4"},vs={class:"form-group"},gs=s("label",{class:"control-label"},"LGA Name",-1),ps=s("hr",null,null,-1),fs=s("button",{class:"btn btn-outline-success","data-dismiss":"modal"},"Edit",-1),ws={key:1,class:"card"},ys={class:"card-body table-responsive"},Ls={class:"row"},As={class:"col-md-6"},xs={key:0,class:"mb-4"},Cs=s("i",{class:"fa fa-plus"},null,-1),Ns=c(" Create LGA"),ks={class:"col-md-6"},Gs={class:"d-flex"},Ss=s("button",{class:"btn btn-outline-success"},"Search",-1),Ds=s("hr",null,null,-1),Vs={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},Es=s("thead",null,[s("tr",null,[s("th",null,"LGA Code"),s("th",null,"LGA Name"),s("th",null,"Action")])],-1),zs=s("button",{class:"btn btn-outline-success btn-sm mr-2"},"Edit",-1),Bs=C('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function Is(i,l,y,Os,t,r){const _=w("router-link"),L=w("router-view");return a(),d(u,null,[s("div",k,[s("div",G,[s("div",S,[s("div",D,[s("div",V,[s("div",E,[s("div",z,[s("h4",B,[I,M,O,s("span",T,o(t.customerDetails.organizationCode)+" // "+o(t.customerDetails.subOrganisationCode)+" //",1),H,s("span",U,o(t.customerDetails.lastName)+" "+o(t.customerDetails.firstName)+" // "+o(this.role),1)]),s("div",F,[s("ol",j,[s("li",P,[n(_,{to:"/dashboard"},{default:h(()=>[q]),_:1})]),J])])])])]),s("div",K,[s("div",Q,[t.showsearch==!0?(a(),d("div",R,[s("div",W,[s("div",null,[s("form",{onSubmit:l[1]||(l[1]=v((...e)=>r.searchLGA&&r.searchLGA(...e),["prevent"]))},[s("div",X,[Y,s("div",Z,[s("div",ss,[g(s("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>t.search=e),placeholder:"Enter State Code"},null,512),[[p,t.search]]),es])])])],32)]),ts,s("table",os,[ls,s("tbody",null,[(a(!0),d(u,null,f(t.caris,e=>(a(),d("tr",{key:e.id},[s("td",null,o(e.lgaCode),1),s("td",null,o(e.lgaName),1),s("td",null,[s("button",{class:"btn btn-outline-success mr-2","data-toggle":"modal","data-target":"#bs-example-modal-lg-"+e.id},"View",8,as)]),s("div",{class:"modal fade",id:"bs-example-modal-lg-"+e.id,tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"},[s("div",is,[s("div",ns,[cs,s("div",rs,[s("div",_s,[s("div",hs,[s("div",us,[ms,s("h5",null,o(e.lgaCode),1)])]),s("div",bs,[s("div",vs,[gs,s("h5",null,o(e.lgaName),1)])])]),ps,n(_,{to:"/edit-lga/"+e.lgaCode},{default:h(()=>[fs]),_:2},1032,["to"])])])])],8,ds)]))),128))])])])])):m("",!0),t.showsearch==!1?(a(),d("div",ws,[s("div",ys,[s("div",null,[s("form",{onSubmit:l[3]||(l[3]=v((...e)=>r.searchLGA&&r.searchLGA(...e),["prevent"]))},[s("div",Ls,[s("div",As,[t.role==="revenue-officer"?(a(),d("div",xs,[n(_,{class:"btn btn-outline-success",to:"/create-lga"},{default:h(()=>[Cs,Ns]),_:1})])):m("",!0)]),s("div",ks,[s("div",Gs,[g(s("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>t.search=e),placeholder:"Enter State Code"},null,512),[[p,t.search]]),Ss])])])],32)]),Ds,s("table",Vs,[Es,s("tbody",null,[(a(!0),d(u,null,f(t.caris,e=>(a(),d("tr",{key:e.id},[s("td",null,o(e.lgaCode),1),s("td",null,o(e.lgaName),1),s("td",null,[n(_,{to:"/customer-details/"+e.id},{default:h(()=>[zs]),_:2},1032,["to"])])]))),128))])])])])):m("",!0)])])])]),Bs])]),n(L)],64)}var Ms=x(N,[["render",Is]]);const Us={__name:"ListLgaView",setup(i){return(l,y)=>(a(),d("main",null,[n(A),n(Ms)]))}};export{Us as default};
