import{H as g}from"./Header.61007050.js";import{_ as w,a as h,o as l,c as i,b as t,t as s,d as o,w as n,e as y,s as v,F as u,k as S,f as d,h as p,r as m}from"./index.a5d27921.js";const C={name:"liststate",data(){return{name:"",allstate:[],customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},loaderDiv:"",mainDiv:"d-none",role:"",roless:"revenue-officer"}},async mounted(){this.role=localStorage.getItem("role"),this.roless!=this.role&&(localStorage.removeItem("token"),this.$router.push("/"));const r=await h.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=r.data.result;const _=await h.get("api/State/allstate",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allstate=_.data.result,this.loaderDiv="d-none",this.mainDiv="",setTimeout(()=>{$("#datatable").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:25,retrieve:!0})})}},x={id:"layout-wrapper"},D={class:"main-content"},N={class:"page-content"},k={class:"container-fluid"},L={class:"row"},z={class:"col-12"},V={class:"page-title-box d-flex align-items-center justify-content-between"},B={class:"mb-0"},A=d("States "),I=t("br",null,null,-1),E=d(),H={style:{"font-size":"14px","font-weight":"500"}},M=d(),O={style:{"font-size":"14px","font-weight":"500"}},T={class:"page-title-right"},F={class:"breadcrumb m-0"},j={class:"breadcrumb-item"},P=d("Home"),U=t("li",{class:"breadcrumb-item active"},"States",-1),q={class:"row"},G={class:"col-12"},J={class:"card"},K={class:"card-body table-responsive"},Q={key:0,class:"mb-4 text-right"},R=t("i",{class:"fa fa-plus"},null,-1),W=d(" Create State"),X=p('<div class="ph-item"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div></div></div>',1),Y=[X],Z={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},tt=t("thead",null,[t("tr",null,[t("th",null,"State Code"),t("th",null,"State Name"),t("th",null,"Action")])],-1),st=t("button",{class:"btn btn-outline-success"},"Edit State",-1),et=["id"],ot={class:"modal-dialog modal-dialog-centered"},at={class:"modal-content"},lt=t("div",{class:"modal-header"},[t("h5",{id:"myLargeModalLabel",class:"modal-title mt-0"},"View State"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")])],-1),it={class:"modal-body"},dt={class:"row"},ct={class:"col-6 col-md-6 mb-4"},nt={class:"form-group"},rt=t("label",{class:"control-label"},"State Code",-1),_t={class:"col-6 col-md-6 mb-4"},ht={class:"form-group"},vt=t("label",{class:"control-label"},"State Name",-1),ut=t("hr",null,null,-1),mt=t("button",{class:"btn btn-outline-success","data-dismiss":"modal"},"Edit State",-1),pt=p('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function bt(r,_,b,gt,a,wt){const c=m("router-link"),f=m("router-view");return l(),i(u,null,[t("div",x,[t("div",D,[t("div",N,[t("div",k,[t("div",L,[t("div",z,[t("div",V,[t("h4",B,[A,I,E,t("span",H,s(a.customerDetails.organizationCode)+" // "+s(a.customerDetails.subOrganisationCode)+" //",1),M,t("span",O,s(a.customerDetails.lastName)+" "+s(a.customerDetails.firstName)+" // "+s(this.role),1)]),t("div",T,[t("ol",F,[t("li",j,[o(c,{to:"/dashboard"},{default:n(()=>[P]),_:1})]),U])])])])]),t("div",q,[t("div",G,[t("div",J,[t("div",K,[a.role==="revenue-officer"?(l(),i("div",Q,[o(c,{class:"btn btn-outline-success",to:"/create-state"},{default:n(()=>[R,W]),_:1})])):y("",!0),t("div",{class:v(this.loaderDiv)},Y,2),t("div",{class:v(this.mainDiv)},[t("table",Z,[tt,t("tbody",null,[(l(!0),i(u,null,S(a.allstate,e=>(l(),i("tr",{key:e.id},[t("td",null,s(e.stateCode),1),t("td",null,s(e.stateName),1),t("td",null,[o(c,{to:"/edit-state/"+e.stateCode},{default:n(()=>[st]),_:2},1032,["to"])]),t("div",{class:"modal fade",id:"bs-example-modal-lg-"+e.stateCode,tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"},[t("div",ot,[t("div",at,[lt,t("div",it,[t("div",dt,[t("div",ct,[t("div",nt,[rt,t("h5",null,s(e.stateCode),1)])]),t("div",_t,[t("div",ht,[vt,t("h5",null,s(e.stateName),1)])])]),ut,o(c,{to:"/edit-state/"+e.stateCode},{default:n(()=>[mt]),_:2},1032,["to"])])])])],8,et)]))),128))])])],2)])])])])])]),pt])]),o(f)],64)}var ft=w(C,[["render",bt]]);const Ct={__name:"ListStateView",setup(r){return(_,b)=>(l(),i("main",null,[o(g),o(ft)]))}};export{Ct as default};
