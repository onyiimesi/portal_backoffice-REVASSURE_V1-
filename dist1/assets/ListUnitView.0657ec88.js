import{H as S}from"./Header.747f91be.js";import{_ as O,a as g,o as n,c as i,b as t,k as h,l as _,v as b,t as o,d as a,w as v,e as c,F as m,j as p,f as w,r as f}from"./index.06a914a2.js";const U={name:"listunits",data(){return{name:"",search:"",showsearch:!1,caris:[],role:null,subsearch:"",showsubsearch:!1,cariss:[]}},async mounted(){this.role=localStorage.getItem("role")},methods:{async searchUnit(){await g.get("api/Units/details/"+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(r=>{this.caris=r,this.search="",this.showsearch=!0}).catch(r=>{console.log(r)})},async searchSubOrg(){await g.get("api/Units/units/"+this.subsearch,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(r=>{this.cariss=r.data.result,this.subsearch="",this.showsubsearch=!0}).catch(r=>{console.log(r)})}}},k={id:"layout-wrapper"},x={class:"main-content"},N={class:"page-content"},V={class:"container-fluid"},A=w('<div class="row"><div class="col-12"><div class="page-title-box d-flex align-items-center justify-content-between"><h4 class="mb-0">View Units</h4><div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">View Units</li></ol></div></div></div></div>',1),E={key:0,class:"row mb-4"},I={class:"col-12"},B={key:0,class:"card"},D={class:"card-body table-responsive"},j={class:"row"},L=t("div",{class:"col-md-6"},null,-1),P={class:"col-md-6"},z={class:"d-flex"},F=t("button",{class:"btn btn-success"},"Search",-1),H=t("hr",null,null,-1),M={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},T=t("thead",null,[t("tr",null,[t("th",null,"Unit Code"),t("th",null,"Unit Name"),t("th",null,"Sub-Organisation Code"),t("th",null,"Sub-Organisation Name"),t("th",null,"Action")])],-1),q=t("button",{class:"btn btn-success mr-2"},"Edit",-1),G=t("hr",null,null,-1),J={key:1,class:"card"},K={class:"card-body table-responsive"},Q={class:"row"},R=t("div",{class:"col-md-6"},null,-1),W={class:"col-md-6"},X={class:"d-flex"},Y=t("button",{class:"btn btn-success"},"Search",-1),Z=t("hr",null,null,-1),$={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},tt=t("thead",null,[t("tr",null,[t("th",null,"Unit Code"),t("th",null,"Unit Name"),t("th",null,"Sub-Organisation Code"),t("th",null,"Sub-Organisation Name"),t("th",null,"Action")])],-1),st=t("button",{class:"btn btn-success mr-2"},"Edit",-1),et={key:1,class:"row"},lt={class:"col-12"},ot={key:0,class:"card"},nt={class:"card-body table-responsive"},it={class:"row"},rt=t("div",{class:"col-md-6"},null,-1),at={class:"col-md-6"},dt={class:"d-flex"},ct=t("button",{class:"btn btn-success"},"Search",-1),ut=t("hr",null,null,-1),ht={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},_t=t("thead",null,[t("tr",null,[t("th",null,"Unit Code"),t("th",null,"Unit Name"),t("th",null,"Sub-Organisation Code"),t("th",null,"Organisation Code"),t("th",null,"Action")])],-1),bt=t("button",{class:"btn btn-success mr-2"},"Edit",-1),vt=t("hr",null,null,-1),mt={key:1,class:"card"},pt={class:"card-body table-responsive"},gt={class:"row"},ft=t("div",{class:"col-md-6"},null,-1),wt={class:"col-md-6"},yt={class:"d-flex"},Ct=t("button",{class:"btn btn-success"},"Search",-1),St=t("hr",null,null,-1),Ot={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},Ut=t("thead",null,[t("tr",null,[t("th",null,"Unit Code"),t("th",null,"Unit Name"),t("th",null,"Sub-Organisation Code"),t("th",null,"Organisation Code"),t("th",null,"Action")])],-1),kt=t("button",{class:"btn btn-success mr-2"},"Edit",-1),xt=w('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function Nt(r,l,y,At,e,d){const u=f("router-link"),C=f("router-view");return n(),i(m,null,[t("div",k,[t("div",x,[t("div",N,[t("div",V,[A,e.role==="PortalAdmin"||e.role==="0"?(n(),i("div",E,[t("div",I,[e.showsearch==!0?(n(),i("div",B,[t("div",D,[t("div",null,[t("form",{onSubmit:l[1]||(l[1]=h((...s)=>r.searchOrg&&r.searchOrg(...s),["prevent"]))},[t("div",j,[L,t("div",P,[t("div",z,[_(t("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[0]||(l[0]=s=>e.search=s),placeholder:"Enter Unit Code"},null,512),[[b,e.search]]),F])])])],32)]),H,t("table",M,[T,t("tbody",null,[t("tr",null,[t("td",null,o(this.caris.data.result.unitCode),1),t("td",null,o(this.caris.data.result.unitName),1),t("td",null,o(this.caris.data.result.subOrganisationCode),1),t("td",null,o(this.caris.data.result.organisationCode),1),t("td",null,[a(u,{to:"/edit-org/"+this.caris.data.result.unitID},{default:v(()=>[q]),_:1},8,["to"])])])])])])])):c("",!0),G,e.showsearch==!1?(n(),i("div",J,[t("div",K,[t("div",null,[t("form",{onSubmit:l[3]||(l[3]=h((...s)=>d.searchUnit&&d.searchUnit(...s),["prevent"]))},[t("div",Q,[R,t("div",W,[t("div",X,[_(t("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[2]||(l[2]=s=>e.search=s),placeholder:"Enter Unit Code"},null,512),[[b,e.search]]),Y])])])],32)]),Z,t("table",$,[tt,t("tbody",null,[(n(!0),i(m,null,p(e.caris,s=>(n(),i("tr",{key:s.id},[t("td",null,o(s.unitCode),1),t("td",null,o(s.unitName),1),t("td",null,o(s.subOrganisationCode),1),t("td",null,o(s.organisationCode),1),t("td",null,[a(u,{to:"/edit-unit/"+s.id},{default:v(()=>[st]),_:2},1032,["to"])])]))),128))])])])])):c("",!0)])])):c("",!0),e.role==="PortalAdmin"||e.role==="OrgAdmin"||e.role==="0"?(n(),i("div",et,[t("div",lt,[e.showsubsearch==!0?(n(),i("div",ot,[t("div",nt,[t("div",null,[t("form",{onSubmit:l[5]||(l[5]=h((...s)=>d.searchSubOrg&&d.searchSubOrg(...s),["prevent"]))},[t("div",it,[rt,t("div",at,[t("div",dt,[_(t("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[4]||(l[4]=s=>e.subsearch=s),placeholder:"Enter Sub-Organisation Code"},null,512),[[b,e.subsearch]]),ct])])])],32)]),ut,t("table",ht,[_t,t("tbody",null,[(n(!0),i(m,null,p(e.cariss,s=>(n(),i("tr",{key:s.unitID},[t("td",null,o(s.unitCode),1),t("td",null,o(s.unitName),1),t("td",null,o(s.subOrganisationCode),1),t("td",null,o(s.organisationCode),1),t("td",null,[a(u,{to:"/edit-unit/"+s.unitID},{default:v(()=>[bt]),_:2},1032,["to"])])]))),128))])])])])):c("",!0),vt,e.showsubsearch==!1?(n(),i("div",mt,[t("div",pt,[t("div",null,[t("form",{onSubmit:l[7]||(l[7]=h((...s)=>d.searchSubOrg&&d.searchSubOrg(...s),["prevent"]))},[t("div",gt,[ft,t("div",wt,[t("div",yt,[_(t("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[6]||(l[6]=s=>e.subsearch=s),placeholder:"Enter Sub-Organisation Code"},null,512),[[b,e.subsearch]]),Ct])])])],32)]),St,t("table",Ot,[Ut,t("tbody",null,[(n(!0),i(m,null,p(e.cariss,s=>(n(),i("tr",{key:s.unitID},[t("td",null,o(s.unitCode),1),t("td",null,o(s.unitName),1),t("td",null,o(s.subOrganisationCode),1),t("td",null,o(s.organisationCode),1),t("td",null,[a(u,{to:"/edit-org/"+s.unitID},{default:v(()=>[kt]),_:2},1032,["to"])])]))),128))])])])])):c("",!0)])])):c("",!0)])]),xt])]),a(C)],64)}var Vt=O(U,[["render",Nt]]);const Bt={__name:"ListUnitView",setup(r){return(l,y)=>(n(),i("main",null,[a(S),a(Vt)]))}};export{Bt as default};
