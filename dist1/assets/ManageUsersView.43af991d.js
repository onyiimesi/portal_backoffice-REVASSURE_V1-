import{H as v}from"./Header.61007050.js";import{_ as f,a as c,o as a,c as l,b as e,t as s,d as n,w,e as h,F as _,k as u,f as i,h as y,r as m}from"./index.a5d27921.js";const N={name:"manageusers",data(){return{name:"",allusers:[],role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},search:"",showsearch:!1,caris:[]}},async mounted(){this.role=localStorage.getItem("role");const r=await c.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=r.data.result;const d=await c.get("api/Users/users",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allusers=d.data.result,setTimeout(()=>{$("#datatable").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:10})})},methods:{async searchUser(){await c.get("api/Users/search?searchstring="+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(r=>{this.caris=r.data.result,this.search="",this.showsearch=!0}).catch(r=>{console.log(r)})}}},k={id:"layout-wrapper"},x={class:"main-content"},z={class:"page-content"},C={class:"container-fluid"},U={class:"row"},A={class:"col-12"},D={class:"page-title-box d-flex align-items-center justify-content-between"},V={class:"mb-0"},B=i("View Users "),O=e("br",null,null,-1),S=i(),F={style:{"font-size":"14px","font-weight":"500"}},I=i(),L={style:{"font-size":"14px","font-weight":"500"}},E={class:"page-title-right"},H={class:"breadcrumb m-0"},M={class:"breadcrumb-item"},T=i("Home"),j=e("li",{class:"breadcrumb-item active"},"View Users",-1),P={class:"row"},q={class:"col-12"},G={key:0,class:"card"},J={class:"card-body table-responsive"},K={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},Q=e("thead",null,[e("tr",null,[e("th",null,"Organization"),e("th",null,"Unit"),e("th",null,"First Name"),e("th",null,"Last Name"),e("th",null,"Email Address")])],-1),R={key:0,class:"text-center"},W=e("td",{colspan:"7"},[e("h3",{style:{color:"red"}},"User Not Found!")],-1),X=[W],Y={key:1,class:"card"},Z={class:"card-body table-responsive"},ee={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},se=e("thead",null,[e("tr",null,[e("th",null,"Organization"),e("th",null,"Unit"),e("th",null,"First Name"),e("th",null,"Last Name"),e("th",null,"Email Address")])],-1),te=y('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function oe(r,d,g,le,o,re){const p=m("router-link"),b=m("router-view");return a(),l(_,null,[e("div",k,[e("div",x,[e("div",z,[e("div",C,[e("div",U,[e("div",A,[e("div",D,[e("h4",V,[B,O,S,e("span",F,s(o.customerDetails.organizationCode)+" // "+s(o.customerDetails.subOrganisationCode)+" //",1),I,e("span",L,s(o.customerDetails.lastName)+" "+s(o.customerDetails.firstName)+" // "+s(this.role),1)]),e("div",E,[e("ol",H,[e("li",M,[n(p,{to:"/dashboard"},{default:w(()=>[T]),_:1})]),j])])])])]),e("div",P,[e("div",q,[o.showsearch==!0?(a(),l("div",G,[e("div",J,[e("table",K,[Q,e("tbody",null,[o.caris.length?h("",!0):(a(),l("tr",R,X)),(a(!0),l(_,null,u(o.caris,t=>(a(),l("tr",{key:t.id},[e("td",null,s(t.organizationCode),1),e("td",null,s(t.subOrganisationCode),1),e("td",null,s(t.firstName),1),e("td",null,s(t.lastName),1),e("td",null,s(t.emailAddress),1)]))),128))])])])])):h("",!0),o.showsearch==!1?(a(),l("div",Y,[e("div",Z,[e("table",ee,[se,e("tbody",null,[(a(!0),l(_,null,u(o.allusers,t=>(a(),l("tr",{key:t.id},[e("td",null,s(t.organizationCode),1),e("td",null,s(t.subOrganisationCode),1),e("td",null,s(t.firstName),1),e("td",null,s(t.lastName),1),e("td",null,s(t.emailAddress),1)]))),128))])])])])):h("",!0)])])])]),te])]),n(b)],64)}var ae=f(N,[["render",oe]]);const de={__name:"ManageUsersView",setup(r){return(d,g)=>(a(),l("main",null,[n(v),n(ae)]))}};export{de as default};
