import{H as g}from"./Header.61007050.js";import{_ as v,a as i,u as f,o as u,c as _,b as e,t as c,l as w,n as d,v as m,d as n,F as b,f as y,h,r as k}from"./index.a5d27921.js";const I={name:"setupworkflow",data(){return{errors:[],message:[],actions:[],moduleactions:[],workflow:[],action:"",module:"",description:"",customerDetails:{id:"",emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:""},role:""}},async mounted(){this.role=localStorage.getItem("role");const s=await i.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=s.data.result;const t=await i.get("api/Modules/modules",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.actions=t.data.result;const r=await i.get("api/WorkFlowItem/Items/"+this.customerDetails.organizationCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.workflow=r.data.result},methods:{async getActions(s){const t=await i.get("api/ModuleAction/getactions/"+s.target.value,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.moduleactions=t.data.result},async rejectEntry(){const s=f();if(this.action||s.error("Item required."),!this.description)s.error("Description required.");else{const t=await i.post("api/WorkFlowItem/AddItem",{action:this.action,module:this.module,organizationCode:this.customerDetails.organizationCode,description:this.description},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});t?(s.success(t.data.message),this.action="",this.module="",this.description=""):s.error("Incorrect Parameter")}}}},z={id:"layout-wrapper"},D={class:"main-content"},j={class:"page-content"},x={class:"container-fluid"},B={class:"row"},A={class:"col-12"},C={class:"page-title-box d-flex align-items-center justify-content-between"},N={class:"mb-0"},S=y("Reject Entry, "),E={style:{"font-size":"14px","font-weight":"500"}},V=h('<div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">Reject Entry</li></ol></div>',1),R={class:"row"},F={class:"col-lg-12"},M={class:"card"},O={class:"card-body"},T={class:"form-group"},U={class:"row"},q={class:"col-md-12 mb-4"},H={class:"form-group"},P=e("label",{class:"control-label"},"Comment",-1),W=e("div",{class:"row"},[e("div",{class:"col-md-12"},[e("div",{class:"form-group"},[e("button",{class:"btn btn-success mr-4"},"Reject")])])],-1),G=h('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function J(s,t,r,L,a,l){const p=k("router-view");return u(),_(b,null,[e("div",z,[e("div",D,[e("div",j,[e("div",x,[e("div",B,[e("div",A,[e("div",C,[e("h4",N,[S,e("span",E,c(a.customerDetails.lastName)+" "+c(a.customerDetails.firstName)+" - "+c(this.role),1)]),V])])]),e("div",R,[e("div",F,[e("div",M,[e("div",O,[e("form",{onSubmit:t[2]||(t[2]=w((...o)=>l.rejectEntry&&l.rejectEntry(...o),["prevent"]))},[e("div",T,[d(e("input",{class:"form-control",type:"hidden","onUpdate:modelValue":t[0]||(t[0]=o=>a.customerDetails.organizationCode=o)},null,512),[[m,a.customerDetails.organizationCode]])]),e("div",U,[e("div",q,[e("div",H,[P,d(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.comment=o),class:"form-control",id:"",cols:"30",rows:"10"},null,512),[[m,s.comment]])])])]),W],32)])])])])])]),G])]),n(p)],64)}var K=v(I,[["render",J]]);const Y={__name:"RejectEntryView",setup(s){return(t,r)=>(u(),_("main",null,[n(g),n(K)]))}};export{Y as default};
