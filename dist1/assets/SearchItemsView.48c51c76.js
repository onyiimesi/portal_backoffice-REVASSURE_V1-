import{H as C}from"./Header.747f91be.js";import{_ as x,a as m,o as n,c as r,b as e,k as _,l as v,v as b,F as c,j as p,e as u,d as a,f as I,r as g,t as s,w as f}from"./index.06a914a2.js";const R={name:"listsuborganization",data(){return{name:"",search:"",showsearch:!1,caris:[],role:null,subsearch:"",showsubsearch:!1,cariss:[],allitems:[],customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""}}},async mounted(){const d=await m.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=d.data.result,this.role=localStorage.getItem("role");const l=await m.get("api/Item/organizations/"+this.customerDetails.organizationCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allitems=l.data.result},methods:{async searchItem(){await m.get("api/Item/search/"+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(d=>{this.caris=d.data.result,this.search="",this.showsearch=!0}).catch(d=>{console.log(d)})},async searchOrg(){await m.get("api/Item/organizations/"+this.subsearch,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(d=>{this.cariss=d.data.result,this.subsearch="",this.showsubsearch=!0}).catch(d=>{console.log(d)})}}},S={id:"layout-wrapper"},k={class:"main-content"},O={class:"page-content"},N={class:"container-fluid"},A=I('<div class="row"><div class="col-12"><div class="page-title-box d-flex align-items-center justify-content-between"><h4 class="mb-0">Search Items</h4><div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">Search Items</li></ol></div></div></div></div>',1),z={class:"row"},B={class:"col-12"},E={key:0,class:"card"},T={class:"card-body table-responsive"},V={class:"row"},F=e("div",{class:"col-md-6"},null,-1),M={class:"col-md-6"},P={class:"d-flex"},D=e("button",{class:"btn btn-success"},"Search",-1),U=e("hr",null,null,-1),G={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},j=e("thead",null,[e("tr",null,[e("th",null,"Item Code"),e("th",null,"Item Org Code"),e("th",null,"Item Name"),e("th",null,"Remita Revenue"),e("th",null,"GIFMIS Ref Code"),e("th",null,"Price"),e("th",null,"Taxtype"),e("th",null,"Action")])],-1),H=e("button",{class:"btn btn-success mr-2"},"Edit",-1),L=e("hr",null,null,-1),q={key:1,class:"card"},J={class:"card-body table-responsive"},K={class:"row"},Q=e("div",{class:"col-md-6"},null,-1),W={class:"col-md-6"},X={class:"d-flex"},Y=e("button",{class:"btn btn-success"},"Search",-1),Z=e("hr",null,null,-1),$={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},ee=e("thead",null,[e("tr",null,[e("th",null,"Item Code"),e("th",null,"Item Org Code"),e("th",null,"Item Name"),e("th",null,"Remita Revenue"),e("th",null,"GIFMIS Ref Code"),e("th",null,"Price"),e("th",null,"Taxtype"),e("th",null,"Action")])],-1),te=e("button",{class:"btn btn-success mr-2"},"Edit",-1),se={key:0,class:"row"},le={class:"col-12"},oe={key:0,class:"card"},ne={class:"card-body table-responsive"},re={class:"row"},de=e("div",{class:"col-md-6"},null,-1),ie={class:"col-md-6"},ae={class:"d-flex"},ce=e("button",{class:"btn btn-success"},"Search",-1),ue=e("hr",null,null,-1),he={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},me=e("thead",null,[e("tr",null,[e("th",null,"Item Code"),e("th",null,"Item Org Code"),e("th",null,"Item Name"),e("th",null,"Remita Revenue"),e("th",null,"GIFMIS Ref Code"),e("th",null,"Price"),e("th",null,"Taxtype"),e("th",null,"Action")])],-1),_e=e("button",{class:"btn btn-success mr-2"},"Edit",-1),ve=e("hr",null,null,-1),be={key:1,class:"card"},pe={class:"card-body table-responsive"},fe={class:"row"},ge=e("div",{class:"col-md-6"},null,-1),Ie={class:"col-md-6"},ye={class:"d-flex"},we=e("button",{class:"btn btn-success"},"Search",-1),Ce=e("hr",null,null,-1),xe={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},Re=e("thead",null,[e("tr",null,[e("th",null,"Item Code"),e("th",null,"Item Org Code"),e("th",null,"Item Name"),e("th",null,"Remita Revenue"),e("th",null,"GIFMIS Ref Code"),e("th",null,"Price"),e("th",null,"Taxtype"),e("th",null,"Action")])],-1),Se=e("button",{class:"btn btn-success mr-2"},"Edit",-1),ke=I('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function Oe(d,l,y,Ae,o,i){const h=g("router-link"),w=g("router-view");return n(),r(c,null,[e("div",S,[e("div",k,[e("div",O,[e("div",N,[A,e("div",z,[e("div",B,[o.showsearch==!0?(n(),r("div",E,[e("div",T,[e("div",null,[e("form",{onSubmit:l[1]||(l[1]=_((...t)=>i.searchItem&&i.searchItem(...t),["prevent"]))},[e("div",V,[F,e("div",M,[e("div",P,[v(e("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[0]||(l[0]=t=>o.search=t),placeholder:"Enter Item name"},null,512),[[b,o.search]]),D])])])],32)]),U,e("table",G,[j,e("tbody",null,[(n(!0),r(c,null,p(o.caris,t=>(n(),r("tr",{key:t.id},[e("td",null,s(t.itemCode),1),e("td",null,s(t.itemOrgCode),1),e("td",null,s(t.itemName),1),e("td",null,s(t.remitaRevenueReference),1),e("td",null,s(t.gifmisReferenceCode),1),e("td",null,s(t.price),1),e("td",null,s(t.taxType),1),e("td",null,[a(h,{to:"/edit-item/"+t.itemCode},{default:f(()=>[H]),_:2},1032,["to"])])]))),128))])])])])):u("",!0),L,o.showsearch==!1?(n(),r("div",q,[e("div",J,[e("div",null,[e("form",{onSubmit:l[3]||(l[3]=_((...t)=>i.searchItem&&i.searchItem(...t),["prevent"]))},[e("div",K,[Q,e("div",W,[e("div",X,[v(e("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[2]||(l[2]=t=>o.search=t),placeholder:"Enter Item name"},null,512),[[b,o.search]]),Y])])])],32)]),Z,e("table",$,[ee,e("tbody",null,[(n(!0),r(c,null,p(o.allitems,t=>(n(),r("tr",null,[e("td",null,s(t.itemCode),1),e("td",null,s(t.itemOrgCode),1),e("td",null,s(t.itemName),1),e("td",null,s(t.remitaRevenueReference),1),e("td",null,s(t.gifmisReferenceCode),1),e("td",null,s(t.price),1),e("td",null,s(t.taxType),1),e("td",null,[a(h,{to:"/edit-item/"+t.itemCode},{default:f(()=>[te]),_:2},1032,["to"])])]))),256))])])])])):u("",!0)])]),o.role==="PortalAdmin"||o.role==="0"?(n(),r("div",se,[e("div",le,[o.showsubsearch==!0?(n(),r("div",oe,[e("div",ne,[e("div",null,[e("form",{onSubmit:l[5]||(l[5]=_((...t)=>i.searchOrg&&i.searchOrg(...t),["prevent"]))},[e("div",re,[de,e("div",ie,[e("div",ae,[v(e("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[4]||(l[4]=t=>o.subsearch=t),placeholder:"Enter Organisation Code"},null,512),[[b,o.subsearch]]),ce])])])],32)]),ue,e("table",he,[me,e("tbody",null,[(n(!0),r(c,null,p(o.cariss,t=>(n(),r("tr",{key:t.id},[e("td",null,s(t.itemCode),1),e("td",null,s(t.itemOrgCode),1),e("td",null,s(t.itemName),1),e("td",null,s(t.remitaRevenueReference),1),e("td",null,s(t.gifmisReferenceCode),1),e("td",null,s(t.price),1),e("td",null,s(t.taxType),1),e("td",null,[a(h,{to:"/edit-item/"+t.id},{default:f(()=>[_e]),_:2},1032,["to"])])]))),128))])])])])):u("",!0),ve,o.showsubsearch==!1?(n(),r("div",be,[e("div",pe,[e("div",null,[e("form",{onSubmit:l[7]||(l[7]=_((...t)=>i.searchOrg&&i.searchOrg(...t),["prevent"]))},[e("div",fe,[ge,e("div",Ie,[e("div",ye,[v(e("input",{class:"form-control mr-3",type:"text","onUpdate:modelValue":l[6]||(l[6]=t=>o.subsearch=t),placeholder:"Enter Organisation Code"},null,512),[[b,o.subsearch]]),we])])])],32)]),Ce,e("table",xe,[Re,e("tbody",null,[(n(!0),r(c,null,p(o.cariss,t=>(n(),r("tr",{key:t.id},[e("td",null,s(t.itemCode),1),e("td",null,s(t.itemOrgCode),1),e("td",null,s(t.itemName),1),e("td",null,s(t.remitaRevenueReference),1),e("td",null,s(t.gifmisReferenceCode),1),e("td",null,s(t.price),1),e("td",null,s(t.taxType),1),e("td",null,[a(h,{to:"/edit-item/"+t.id},{default:f(()=>[Se]),_:2},1032,["to"])])]))),128))])])])])):u("",!0)])])):u("",!0)])]),ke])]),a(w)],64)}var Ne=x(R,[["render",Oe]]);const Ee={__name:"SearchItemsView",setup(d){return(l,y)=>(n(),r("main",null,[a(C),a(Ne)]))}};export{Ee as default};
