import{H as b}from"./Header.747f91be.js";import{_ as N,a as u,o as l,c as n,b as s,F as d,j as h,e as _,k as w,l as i,v as r,n as C,d as c,f as g,r as O,t as p}from"./index.06a914a2.js";const y={name:"setuporganization",data(){return{errors:[],message:[],organisationCode:"",organisationName:"",emailAddress:"",subOrganisationCode:"",organizationCode:"",unit:"",firstName:"",lastName:"",middleName:"",gender:"",password:"",role:""}},methods:{async handleOrg(){this.errors=[],this.message=[],this.organisationCode||this.errors.push("Organisation Code required."),this.organisationName||this.errors.push("Organisation Name required."),this.emailAddress||this.errors.push("Email Address required."),this.organizationCode||this.errors.push("Organisation Code required."),this.firstName||this.errors.push("Firstname required."),this.lastName||this.errors.push("Lastname required."),this.password||this.errors.push("Password required."),this.role||this.errors.push("Role required.");const a=await u.post("api/Organisation/addorganization",{organisationCode:this.organisationCode,organisationName:this.organisationName},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});await u.post("api/Users/adduser",{emailAddress:this.emailAddress,subOrganisationCode:this.subOrganisationCode,organizationCode:this.organizationCode,unit:this.unit,firstName:this.firstName,lastName:this.lastName,middleName:this.middleName,gender:this.gender,password:this.password,role:this.role},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),a?(console.log(a),this.message.push(a.data.message),this.organisationCode="",this.organisationName="",this.emailAddress="",this.organizationCode="",this.firstName="",this.lastName="",this.password="",this.role=""):this.errors.push("Incorrect Parameter")}}},z={id:"layout-wrapper"},V={class:"main-content"},x={class:"page-content"},S={class:"container-fluid"},U=g('<div class="row"><div class="col-12"><div class="page-title-box d-flex align-items-center justify-content-between"><h4 class="mb-0">Setup Organization</h4><div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">Setup Organization</li></ol></div></div></div></div>',1),A={class:"row"},k={class:"col-lg-12"},q={class:"card"},B={class:"card-body"},F=s("h4",{class:"card-title"},"Setup Organization",-1),P={key:0,class:"alert alert-danger"},I=s("b",null,"Please correct the following error(s):",-1),M={key:1,class:"alert alert-success"},j={class:"row mt-4"},E={class:"col-md-6"},L={class:"form-group"},D=s("label",{class:"control-label"},"Organization Code",-1),H={class:"col-md-6"},R={class:"form-group"},T=s("label",{class:"control-label"},"Organization Name",-1),G=s("hr",null,null,-1),J=s("div",null,[s("h4",{class:"card-title"},"Setup Org Admin")],-1),K={class:"row mt-3"},Q={class:"col-md-4"},W={class:"form-group"},X=s("label",{class:"control-label"},"First Name",-1),Y={class:"col-md-4"},Z={class:"form-group"},$=s("label",{class:"control-label"},"Last Name",-1),ss={class:"col-md-4"},os={class:"form-group"},es=s("label",{class:"control-label"},"Email Address",-1),ts={class:"row"},is={class:"col-md-4"},rs={class:"form-group"},ls=s("label",{class:"control-label"},"Organization Code",-1),ns={class:"col-md-4"},as={class:"form-group"},ds=s("label",{class:"control-label"},"Role",-1),cs={class:"col-md-4"},ms={class:"form-group"},us=s("label",{class:"control-label"},"Password",-1),hs={class:"col-md-4"},_s={class:"form-group"},ps={class:"col-md-4"},gs={class:"form-group"},vs={class:"col-md-4"},fs={class:"form-group"},bs=s("option",null,"Choose",-1),Ns=s("option",{value:"male"},"Male",-1),ws=s("option",{value:"female"},"Female",-1),Cs=[bs,Ns,ws],Os={class:"col-md-4"},ys={class:"form-group"},zs=s("button",{class:"btn btn-success mr-4 float-left"},"Save",-1),Vs=g('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function xs(a,t,v,Us,e,m){const f=O("router-view");return l(),n(d,null,[s("div",z,[s("div",V,[s("div",x,[s("div",S,[U,s("div",A,[s("div",k,[s("div",q,[s("div",B,[F,e.errors.length?(l(),n("div",P,[I,s("ul",null,[(l(!0),n(d,null,h(e.errors,o=>(l(),n("li",null,p(o),1))),256))])])):_("",!0),e.message.length?(l(),n("div",M,[(l(!0),n(d,null,h(e.message,o=>(l(),n("strong",null,p(o),1))),256))])):_("",!0),s("form",{onSubmit:t[12]||(t[12]=w((...o)=>m.handleOrg&&m.handleOrg(...o),["prevent"]))},[s("div",j,[s("div",E,[s("div",L,[D,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>e.organisationCode=o)},null,512),[[r,e.organisationCode]])])]),s("div",H,[s("div",R,[T,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>e.organisationName=o)},null,512),[[r,e.organisationName]])])])]),G,J,s("div",K,[s("div",Q,[s("div",W,[X,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>e.firstName=o)},null,512),[[r,e.firstName]])])]),s("div",Y,[s("div",Z,[$,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>e.lastName=o)},null,512),[[r,e.lastName]])])]),s("div",ss,[s("div",os,[es,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>e.emailAddress=o)},null,512),[[r,e.emailAddress]])])])]),s("div",ts,[s("div",is,[s("div",rs,[ls,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>e.organizationCode=o)},null,512),[[r,e.organizationCode]])])]),s("div",ns,[s("div",as,[ds,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>e.role=o)},null,512),[[r,e.role]])])]),s("div",cs,[s("div",ms,[us,i(s("input",{class:"form-control",type:"password","onUpdate:modelValue":t[7]||(t[7]=o=>e.password=o)},null,512),[[r,e.password]])])]),s("div",hs,[s("div",_s,[i(s("input",{class:"form-control",type:"hidden","onUpdate:modelValue":t[8]||(t[8]=o=>e.unit=o)},null,512),[[r,e.unit]])])]),s("div",ps,[s("div",gs,[i(s("input",{class:"form-control",type:"hidden","onUpdate:modelValue":t[9]||(t[9]=o=>e.middleName=o)},null,512),[[r,e.middleName]])])]),s("div",vs,[s("div",fs,[i(s("select",{"onUpdate:modelValue":t[10]||(t[10]=o=>e.gender=o),class:"form-control",style:{display:"none"}},Cs,512),[[C,e.gender]])])]),s("div",Os,[s("div",ys,[i(s("input",{class:"form-control",type:"hidden","onUpdate:modelValue":t[11]||(t[11]=o=>e.subOrganisationCode=o)},null,512),[[r,e.subOrganisationCode]])])])]),zs],32)])])])])])]),Vs])]),c(f)],64)}var Ss=N(y,[["render",xs]]);const qs={__name:"SetupOrgView",setup(a){return(t,v)=>(l(),n("main",null,[c(b),c(Ss)]))}};export{qs as default};
