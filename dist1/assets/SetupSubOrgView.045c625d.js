import{H as f}from"./Header.747f91be.js";import{_ as O,a as n,o as i,c as a,b as s,F as l,j as m,e as h,k as C,l as d,n as S,t as c,v as _,d as u,f as b,r as w}from"./index.06a914a2.js";const N={name:"suborganizationsetup",data(){return{errors:[],message:[],allsub:[],subOrganisationCode:"",subOrganisationName:"",organisationCode:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""}}},async mounted(){const r=await n.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=r.data.result;const o=await n.get("api/Item/organizations/"+this.customerDetails.organizationCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allitems=o.data.result},methods:{async handleSubOrg(){this.errors=[],this.message=[],this.subOrganisationCode||this.errors.push("Sub-Organisation Code required."),this.subOrganisationName||this.errors.push("Sub-Organisation Name required."),this.organisationCode||this.errors.push("Organisation Code required.");const r=await n.post("api/SubOrganisation/addsuborganization",{subOrganisationCode:this.subOrganisationCode,subOrganisationName:this.subOrganisationName,organisationCode:this.organisationCode},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});r?(console.log(r),this.message.push(r.data.message),this.subOrganisationCode="",this.subOrganisationName="",this.organisationCode=""):this.errors.push("Incorrect Parameter")}}},z={id:"layout-wrapper"},k={class:"main-content"},x={class:"page-content"},y={class:"container-fluid"},B=b('<div class="row"><div class="col-12"><div class="page-title-box d-flex align-items-center justify-content-between"><h4 class="mb-0">Sub-Organization Setup</h4><div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">Sub-Organization Setup</li></ol></div></div></div></div>',1),V={class:"row"},D={class:"col-lg-12"},I={class:"card"},A={class:"card-body"},U={key:0,class:"alert alert-danger"},j=s("b",null,"Please correct the following error(s):",-1),q={key:1,class:"alert alert-success"},M={class:"row"},P={class:"col-md-12"},F={class:"form-group"},H=s("label",{class:"control-label"},"Organization Code",-1),E=["value"],L={class:"col-md-12"},T={class:"form-group"},G=s("label",{class:"control-label"},"Sub-Organization Code",-1),J={class:"col-md-12"},K={class:"form-group"},Q=s("label",{class:"control-label"},"Sub-Organization Name",-1),R=s("button",{class:"btn btn-success mr-4 float-left"},"Save",-1),W=b('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function X(r,o,v,Z,e,g){const p=w("router-view");return i(),a(l,null,[s("div",z,[s("div",k,[s("div",x,[s("div",y,[B,s("div",V,[s("div",D,[s("div",I,[s("div",A,[e.errors.length?(i(),a("div",U,[j,s("ul",null,[(i(!0),a(l,null,m(e.errors,t=>(i(),a("li",null,c(t),1))),256))])])):h("",!0),e.message.length?(i(),a("div",q,[(i(!0),a(l,null,m(e.message,t=>(i(),a("strong",null,c(t),1))),256))])):h("",!0),s("form",{onSubmit:o[3]||(o[3]=C((...t)=>g.handleSubOrg&&g.handleSubOrg(...t),["prevent"]))},[s("div",M,[s("div",P,[s("div",F,[H,d(s("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>e.organisationCode=t),class:"form-control"},[s("option",{value:e.customerDetails.organizationCode},c(e.customerDetails.organizationCode),9,E)],512),[[S,e.organisationCode]])])]),s("div",L,[s("div",T,[G,d(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>e.subOrganisationCode=t)},null,512),[[_,e.subOrganisationCode]])])]),s("div",J,[s("div",K,[Q,d(s("input",{class:"form-control",type:"text","onUpdate:modelValue":o[2]||(o[2]=t=>e.subOrganisationName=t)},null,512),[[_,e.subOrganisationName]])])])]),R],32)])])])])])]),W])]),u(p)],64)}var Y=O(N,[["render",X]]);const es={__name:"SetupSubOrgView",setup(r){return(o,v)=>(i(),a("main",null,[u(f),u(Y)]))}};export{es as default};
