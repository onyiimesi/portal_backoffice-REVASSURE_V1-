import{H as C}from"./Header.47845ea9.js";import{_ as w,a as g,u as S,o as a,c as n,b as s,t as r,d as c,w as N,F as d,j as h,e as b,k as x,l as u,v as _,f as l,g as z,r as p}from"./index.e2874b00.js";const y={name:"suborganizationsetup",data(){return{errors:[],message:[],allsub:[],subOrganisationCode:"",subOrganisationName:"",role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""}}},async mounted(){this.role=localStorage.getItem("role");const i=await g.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=i.data.result},methods:{async handleSubOrg(){this.errors=[],this.message=[];const i=S();this.subOrganisationCode||i.error("Sub-Organisation Code required."),this.subOrganisationName||i.error("Sub-Organisation Name required.");const t=await g.post("api/SubOrganisation/addsuborganization",{subOrganisationCode:this.subOrganisationCode,subOrganisationName:this.subOrganisationName,organisationCode:this.customerDetails.organizationCode},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});t?(i.success(t.data.message),this.subOrganisationCode="",this.subOrganisationName=""):i.error("Incorrect Parameter")}}},k={id:"layout-wrapper"},D={class:"main-content"},V={class:"page-content"},B={class:"container-fluid"},I={class:"row"},U={class:"col-12"},A={class:"page-title-box d-flex align-items-center justify-content-between"},H={class:"mb-0"},P=l("Create Sub-Organization "),T=s("br",null,null,-1),j=l(),q={style:{"font-size":"14px","font-weight":"500"}},F=l(),M={style:{"font-size":"14px","font-weight":"500"}},E={class:"page-title-right"},L={class:"breadcrumb m-0"},G={class:"breadcrumb-item"},J=l("Home"),K=s("li",{class:"breadcrumb-item active"},"Create Sub-Organization",-1),Q={class:"row"},R={class:"col-lg-12"},W={class:"card"},X={class:"card-body"},Y={key:0,class:"alert alert-danger"},Z=s("b",null,"Please correct the following error(s):",-1),$={key:1,class:"alert alert-success"},ss={class:"row"},es={class:"col-md-6"},ts={class:"form-group"},os={class:"row"},is={class:"col-md-6"},as={class:"form-group"},ns=s("label",{class:"control-label"},[l("Sub-Organization Code "),s("span",{class:"text-danger"},"*")],-1),rs={class:"col-md-6"},ls={class:"form-group"},cs=s("label",{class:"control-label"},[l("Sub-Organization Name "),s("span",{class:"text-danger"},"*")],-1),ds=s("button",{class:"btn btn-outline-success"},"Create",-1),us=z('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function _s(i,t,v,gs,e,m){const f=p("router-link"),O=p("router-view");return a(),n(d,null,[s("div",k,[s("div",D,[s("div",V,[s("div",B,[s("div",I,[s("div",U,[s("div",A,[s("h4",H,[P,T,j,s("span",q,r(e.customerDetails.organizationCode)+" // "+r(e.customerDetails.subOrganisationCode)+" //",1),F,s("span",M,r(e.customerDetails.lastName)+" "+r(e.customerDetails.firstName)+" // "+r(this.role),1)]),s("div",E,[s("ol",L,[s("li",G,[c(f,{to:"/dashboard"},{default:N(()=>[J]),_:1})]),K])])])])]),s("div",Q,[s("div",R,[s("div",W,[s("div",X,[e.errors.length?(a(),n("div",Y,[Z,s("ul",null,[(a(!0),n(d,null,h(e.errors,o=>(a(),n("li",null,r(o),1))),256))])])):b("",!0),e.message.length?(a(),n("div",$,[(a(!0),n(d,null,h(e.message,o=>(a(),n("strong",null,r(o),1))),256))])):b("",!0),s("form",{onSubmit:t[3]||(t[3]=x((...o)=>m.handleSubOrg&&m.handleSubOrg(...o),["prevent"]))},[s("div",ss,[s("div",es,[s("div",ts,[u(s("input",{class:"form-control",type:"hidden","onUpdate:modelValue":t[0]||(t[0]=o=>e.customerDetails.organizationCode=o)},null,512),[[_,e.customerDetails.organizationCode]])])])]),s("div",os,[s("div",is,[s("div",as,[ns,u(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>e.subOrganisationCode=o)},null,512),[[_,e.subOrganisationCode]])])]),s("div",rs,[s("div",ls,[cs,u(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>e.subOrganisationName=o)},null,512),[[_,e.subOrganisationName]])])])]),ds],32)])])])])])]),us])]),c(O)],64)}var ms=w(y,[["render",_s]]);const ps={__name:"SetupSubOrgView",setup(i){return(t,v)=>(a(),n("main",null,[c(C),c(ms)]))}};export{ps as default};
