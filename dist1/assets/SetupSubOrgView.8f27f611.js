import{H as O}from"./Header.61007050.js";import{_ as w,a as h,u as x,o as r,c as n,b as s,t as a,d as c,w as N,F as d,k as g,e as b,l as S,n as u,v as _,f as l,h as y,r as p}from"./index.a5d27921.js";const k={name:"suborganizationsetup",data(){return{errors:[],message:[],allsub:[],subOrganisationCode:"",subOrganisationName:"",role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},roles:"org-admin"}},async mounted(){this.role=localStorage.getItem("role"),this.roles!=this.role&&(localStorage.removeItem("token"),this.$router.push("/"));const i=await h.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=i.data.result},methods:{async handleSubOrg(){this.errors=[],this.message=[];const i=x();this.subOrganisationCode||i.error("Unit Code required."),this.subOrganisationName||i.error("Unit required.");const t=await h.post("api/SubOrganisation/addsuborganization",{subOrganisationCode:this.subOrganisationCode,subOrganisationName:this.subOrganisationName,organisationCode:this.customerDetails.organizationCode},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});t?(i.success(t.data.message),this.$router.push("/list-unit"),this.subOrganisationCode="",this.subOrganisationName=""):i.error("Incorrect Parameter")}}},z={id:"layout-wrapper"},D={class:"main-content"},U={class:"page-content"},V={class:"container-fluid"},B={class:"row"},I={class:"col-12"},A={class:"page-title-box d-flex align-items-center justify-content-between"},H={class:"mb-0"},P=l("Create Unit "),T=s("br",null,null,-1),q=l(),F={style:{"font-size":"14px","font-weight":"500"}},M=l(),j={style:{"font-size":"14px","font-weight":"500"}},E={class:"page-title-right"},L={class:"breadcrumb m-0"},G={class:"breadcrumb-item"},J=l("Home"),K=s("li",{class:"breadcrumb-item active"},"Create Unit",-1),Q={class:"row"},R={class:"col-lg-12"},W={class:"card"},X={class:"card-body"},Y={key:0,class:"alert alert-danger"},Z=s("b",null,"Please correct the following error(s):",-1),$={key:1,class:"alert alert-success"},ss={class:"row"},es={class:"col-md-6"},ts={class:"form-group"},os={class:"row"},is={class:"col-md-6"},rs={class:"form-group"},ns=s("label",{class:"control-label"},[l("Unit Code "),s("span",{class:"text-danger"},"*")],-1),as={class:"col-md-6"},ls={class:"form-group"},cs=s("label",{class:"control-label"},[l("Unit "),s("span",{class:"text-danger"},"*")],-1),ds=s("button",{class:"btn btn-outline-success"},"Create",-1),us=y('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function _s(i,t,v,hs,e,m){const f=p("router-link"),C=p("router-view");return r(),n(d,null,[s("div",z,[s("div",D,[s("div",U,[s("div",V,[s("div",B,[s("div",I,[s("div",A,[s("h4",H,[P,T,q,s("span",F,a(e.customerDetails.organizationCode)+" // "+a(e.customerDetails.subOrganisationCode)+" //",1),M,s("span",j,a(e.customerDetails.lastName)+" "+a(e.customerDetails.firstName)+" // "+a(this.role),1)]),s("div",E,[s("ol",L,[s("li",G,[c(f,{to:"/dashboard"},{default:N(()=>[J]),_:1})]),K])])])])]),s("div",Q,[s("div",R,[s("div",W,[s("div",X,[e.errors.length?(r(),n("div",Y,[Z,s("ul",null,[(r(!0),n(d,null,g(e.errors,o=>(r(),n("li",null,a(o),1))),256))])])):b("",!0),e.message.length?(r(),n("div",$,[(r(!0),n(d,null,g(e.message,o=>(r(),n("strong",null,a(o),1))),256))])):b("",!0),s("form",{onSubmit:t[3]||(t[3]=S((...o)=>m.handleSubOrg&&m.handleSubOrg(...o),["prevent"]))},[s("div",ss,[s("div",es,[s("div",ts,[u(s("input",{class:"form-control",type:"hidden","onUpdate:modelValue":t[0]||(t[0]=o=>e.customerDetails.organizationCode=o)},null,512),[[_,e.customerDetails.organizationCode]])])])]),s("div",os,[s("div",is,[s("div",rs,[ns,u(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>e.subOrganisationCode=o)},null,512),[[_,e.subOrganisationCode]])])]),s("div",as,[s("div",ls,[cs,u(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>e.subOrganisationName=o)},null,512),[[_,e.subOrganisationName]])])])]),ds],32)])])])])])]),us])]),c(C)],64)}var ms=w(k,[["render",_s]]);const ps={__name:"SetupSubOrgView",setup(i){return(t,v)=>(r(),n("main",null,[c(O),c(ms)]))}};export{ps as default};
