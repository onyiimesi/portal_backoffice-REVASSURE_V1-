import{H as N}from"./Header.747f91be.js";import{_ as C,a as u,o as l,c as i,b as s,F as c,j as m,e as p,k as A,l as r,v as d,n as b,t as n,d as _,f as v,r as w}from"./index.06a914a2.js";const y={name:"updatecustomer",data(){return{errors:[],message:[],allstate:[],details:{id:"",fullNames:"",mobileNumber1:"",mobileNumber2:"",emailAddress:"",bvn:"",nin:"",contactAddress:"",lgaCode:"",stateCode:"",customerTin:""}}},async mounted(){const a=await u.get("api/State/allstate",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allstate=a.data.result;const t=await u.get("api/Customer/details/"+this.$route.params.id,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.details=t.data.result},methods:{async onChange(a){const t=await u.get("api/Lga/alllgas/"+a.target.value,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.alllga=t.data.result},async updateCustomer(){this.errors=[],this.message=[],this.details.fullNames||this.errors.push("Full Name required."),this.details.mobileNumber1||this.errors.push("Mobile Number required."),this.details.mobileNumber2||this.errors.push("Mobile Number 2 required."),this.details.emailAddress||this.errors.push("Email Adrress required."),this.details.bvn||this.errors.push("BVN required."),this.details.nin||this.errors.push("NIN required."),this.details.contactAddress||this.errors.push("Contact Address required."),this.details.lgaCode||this.errors.push("LGA Code required."),this.details.stateCode||this.errors.push("State Code required."),this.details.customerTin||this.errors.push("TIN Number required.");const a=await u.put("api/Customer/editcustomer",{id:this.details.id,fullNames:this.details.fullNames,mobileNumber1:this.details.mobileNumber1,mobileNumber2:this.details.mobileNumber2,emailAddress:this.details.emailAddress,bvn:this.details.bvn,nin:this.details.nin,contactAddress:this.details.contactAddress,lgaCode:this.details.lgaCode,stateCode:this.details.stateCode,customerTin:this.details.customerTin},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});a?(console.log(a),this.message.push(a.data.message)):this.errors.push("Incorrect Parameter")}}},V={id:"layout-wrapper"},x={class:"main-content"},U={class:"page-content"},k={class:"container-fluid"},B=v('<div class="row"><div class="col-12"><div class="page-title-box d-flex align-items-center justify-content-between"><h4 class="mb-0">Update Details</h4><div class="page-title-right"><ol class="breadcrumb m-0"><li class="breadcrumb-item"><a href="javascript: void(0);">Back Office</a></li><li class="breadcrumb-item active">Update Details</li></ol></div></div></div></div>',1),S={class:"row"},q={class:"col-lg-12"},I={class:"card"},T={class:"card-body"},M={key:0,class:"alert alert-danger"},D=s("b",null,"Please correct the following error(s):",-1),z={key:1,class:"alert alert-success"},F={class:"row"},L={class:"col-md-6"},j={class:"form-group"},E=s("label",{class:"control-label"},"Full Name",-1),P={class:"col-md-6"},G={class:"form-group"},H=s("label",{class:"control-label"},"Customer Mobile Number",-1),O={class:"row"},J={class:"col-md-6"},K={class:"form-group"},Q=s("label",{class:"control-label"},"Customer Mobile Number 2",-1),R={class:"col-md-6"},W={class:"form-group"},X=s("label",{class:"control-label"},"Email Address",-1),Y={class:"row"},Z={class:"col-md-6"},$={class:"form-group"},ss=s("label",{class:"control-label"},"BVN",-1),es={class:"col-md-6"},ts={class:"form-group"},os=s("label",{class:"control-label"},"NIN",-1),ls={class:"row"},is={class:"col-md-6"},rs={class:"form-group"},as=s("label",{class:"control-label"},"State Code",-1),ds=["value"],ns={class:"col-md-6"},cs={class:"form-group"},us=s("label",{class:"control-label"},"LGA Code",-1),ms=["value"],hs={class:"row"},_s={class:"col-md-6"},ps={class:"form-group"},bs=s("label",{class:"control-label"},"Contact Address",-1),vs={class:"col-md-6"},fs={class:"form-group"},gs=s("label",{class:"control-label"},"TIN Number",-1),Ns=s("button",{class:"btn btn-success mr-4 float-left"},"Update Customer",-1),Cs=v('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function As(a,t,f,ys,o,h){const g=w("router-view");return l(),i(c,null,[s("div",V,[s("div",x,[s("div",U,[s("div",k,[B,s("div",S,[s("div",q,[s("div",I,[s("div",T,[o.errors.length?(l(),i("div",M,[D,s("ul",null,[(l(!0),i(c,null,m(o.errors,e=>(l(),i("li",null,n(e),1))),256))])])):p("",!0),o.message.length?(l(),i("div",z,[(l(!0),i(c,null,m(o.message,e=>(l(),i("strong",null,n(e),1))),256))])):p("",!0),s("form",{onSubmit:t[12]||(t[12]=A((...e)=>h.updateCustomer&&h.updateCustomer(...e),["prevent"]))},[r(s("input",{class:"form-control",type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>o.details.id=e)},null,512),[[d,o.details.id]]),s("div",F,[s("div",L,[s("div",j,[E,r(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.details.fullNames=e)},null,512),[[d,o.details.fullNames]])])]),s("div",P,[s("div",G,[H,r(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>o.details.mobileNumber1=e)},null,512),[[d,o.details.mobileNumber1]])])])]),s("div",O,[s("div",J,[s("div",K,[Q,r(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>o.details.mobileNumber2=e)},null,512),[[d,o.details.mobileNumber2]])])]),s("div",R,[s("div",W,[X,r(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>o.details.emailAddress=e)},null,512),[[d,o.details.emailAddress]])])])]),s("div",Y,[s("div",Z,[s("div",$,[ss,r(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>o.details.bvn=e)},null,512),[[d,o.details.bvn]])])]),s("div",es,[s("div",ts,[os,r(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>o.details.nin=e)},null,512),[[d,o.details.nin]])])])]),s("div",ls,[s("div",is,[s("div",rs,[as,r(s("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>o.details.stateCode=e),onChange:t[8]||(t[8]=e=>h.onChange(e)),class:"form-control"},[s("option",null,n(o.details.stateCode),1),(l(!0),i(c,null,m(o.allstate,e=>(l(),i("option",{value:e.stateCode},n(e.stateCode),9,ds))),256))],544),[[b,o.details.stateCode]])])]),s("div",ns,[s("div",cs,[us,r(s("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.details.lgaCode=e),class:"form-control",id:""},[s("option",null,n(o.details.lgaCode),1),(l(!0),i(c,null,m(a.alllga,e=>(l(),i("option",{value:e.lgaCode},n(e.lgaCode),9,ms))),256))],512),[[b,o.details.lgaCode]])])])]),s("div",hs,[s("div",_s,[s("div",ps,[bs,r(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[10]||(t[10]=e=>o.details.contactAddress=e)},null,512),[[d,o.details.contactAddress]])])]),s("div",vs,[s("div",fs,[gs,r(s("input",{class:"form-control",type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>o.details.customerTin=e)},null,512),[[d,o.details.customerTin]])])])]),Ns],32)])])])])])]),Cs])]),_(g)],64)}var ws=C(y,[["render",As]]);const Us={__name:"UpdateDetailsView",setup(a){return(t,f)=>(l(),i("main",null,[_(N),_(ws)]))}};export{Us as default};
