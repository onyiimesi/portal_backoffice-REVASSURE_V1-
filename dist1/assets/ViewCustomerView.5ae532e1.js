import{H as g}from"./Header.47845ea9.js";import{_ as f,a as _,o as l,c as n,b as e,t,d as a,w as u,e as v,F as m,j as N,f as i,g as w,r as h}from"./index.e2874b00.js";const C={name:"viewcustomers",data(){return{name:"",allcustomer:[],role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""}}},async mounted(){this.role=localStorage.getItem("role");const r=await _.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=r.data.result;const c=await _.get("api/Customer/allcustomer",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allcustomer=c.data.result,setTimeout(()=>{$("#datatable").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:10,language:{searchPlaceholder:"Enter NIN, BVN or Full Name"}})})}},x={id:"layout-wrapper"},y={class:"main-content"},k={class:"page-content"},B={class:"container-fluid"},D={class:"row"},E={class:"col-12"},I={class:"page-title-box d-flex align-items-center justify-content-between"},V={class:"mb-0"},O=i("Customers "),T=e("br",null,null,-1),A=i(),M={style:{"font-size":"14px","font-weight":"500"}},S=i(),z={style:{"font-size":"14px","font-weight":"500"}},U={class:"page-title-right"},L={class:"breadcrumb m-0"},R={class:"breadcrumb-item"},F=i("Home"),H=e("li",{class:"breadcrumb-item active"},"Customers",-1),j={class:"row"},P={class:"col-12"},Y={class:"card"},q={class:"card-body table-responsive"},G={key:0,class:"mb-4 text-right"},J=e("i",{class:"fa fa-plus"},null,-1),K=i(" Create Customer"),Q={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},W=e("thead",null,[e("tr",null,[e("th",null,"CUSTOMER CODE"),e("th",null,"CUSTOMER NAME"),e("th",null,"NATIONAL IDENTITY NUMBER"),e("th",null,"MOBILE NUMBER"),e("th",null,"ACTION")])],-1),X=e("button",{class:"btn btn-outline-success btn-sm mr-2"},"View",-1),Z=w('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function ee(r,c,b,se,o,oe){const d=h("router-link"),p=h("router-view");return l(),n(m,null,[e("div",x,[e("div",y,[e("div",k,[e("div",B,[e("div",D,[e("div",E,[e("div",I,[e("h4",V,[O,T,A,e("span",M,t(o.customerDetails.organizationCode)+" // "+t(o.customerDetails.subOrganisationCode)+" //",1),S,e("span",z,t(o.customerDetails.lastName)+" "+t(o.customerDetails.firstName)+" // "+t(this.role),1)]),e("div",U,[e("ol",L,[e("li",R,[a(d,{to:"/dashboard"},{default:u(()=>[F]),_:1})]),H])])])])]),e("div",j,[e("div",P,[e("div",Y,[e("div",q,[o.role==="billing-oficer"?(l(),n("div",G,[a(d,{class:"btn btn-outline-success",to:"/create-customer"},{default:u(()=>[J,K]),_:1})])):v("",!0),e("table",Q,[W,e("tbody",null,[(l(!0),n(m,null,N(o.allcustomer,s=>(l(),n("tr",{key:s.id},[e("td",null,t(s.customerCode),1),e("td",null,t(s.firstname)+" "+t(s.lastname),1),e("td",null,t(s.nin),1),e("td",null,t(s.mobileNumber1),1),e("td",null,[a(d,{to:"/customer-details/"+s.customerCode},{default:u(()=>[X]),_:2},1032,["to"])])]))),128))])])])])])])])]),Z])]),a(p)],64)}var te=f(C,[["render",ee]]);const ne={__name:"ViewCustomerView",setup(r){return(c,b)=>(l(),n("main",null,[a(g),a(te)]))}};export{ne as default};
