import{H as g}from"./Header.61007050.js";import{_ as w,a as h,o as l,c as a,b as s,t as e,d as i,w as u,e as C,s as _,F as v,k as y,f as c,h as p,r as m}from"./index.a5d27921.js";const N={name:"viewcustomers",data(){return{name:"",allcustomer:[],role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},loaderDiv:"",mainDiv:"d-none",roles:"billing-oficer",roless:"revenue-officer"}},async mounted(){this.role=localStorage.getItem("role"),this.roles!=this.role&&this.roless!=this.role&&(localStorage.removeItem("token"),this.$router.push("/"));const r=await h.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=r.data.result;const d=await h.get("api/Customer/allcustomer",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allcustomer=d.data.result,this.loaderDiv="d-none",this.mainDiv="",setTimeout(()=>{$("#datatable").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:10,language:{searchPlaceholder:"Enter NIN, BVN or Full Name"},retrieve:!0})})}},D={id:"layout-wrapper"},x={class:"main-content"},k={class:"page-content"},V={class:"container-fluid"},z={class:"row"},B={class:"col-12"},I={class:"page-title-box d-flex align-items-center justify-content-between"},S={class:"mb-0"},A=c("Customers "),F=s("br",null,null,-1),H=c(),O={style:{"font-size":"14px","font-weight":"500"}},T=c(),E={style:{"font-size":"14px","font-weight":"500"}},L={class:"page-title-right"},M={class:"breadcrumb m-0"},P={class:"breadcrumb-item"},j=c("Home"),U=s("li",{class:"breadcrumb-item active"},"Customers",-1),q={class:"row"},G={class:"col-12"},J={class:"card"},K={class:"card-body table-responsive"},Q={key:0,class:"mb-4 text-right"},R=s("i",{class:"fa fa-plus"},null,-1),W=c(" Create Customer"),X=p('<div class="ph-item"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div></div></div>',1),Y=[X],Z={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},ss=s("thead",null,[s("tr",null,[s("th",null,"Customer Code"),s("th",null,"Customer Name"),s("th",null,"Mobile Number"),s("th",null,"Action")])],-1),es=s("button",{type:"button",class:"btn btn-outline-success"},"View",-1),ts=p('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function os(r,d,b,ls,t,as){const n=m("router-link"),f=m("router-view");return l(),a(v,null,[s("div",D,[s("div",x,[s("div",k,[s("div",V,[s("div",z,[s("div",B,[s("div",I,[s("h4",S,[A,F,H,s("span",O,e(t.customerDetails.organizationCode)+" // "+e(t.customerDetails.subOrganisationCode)+" //",1),T,s("span",E,e(t.customerDetails.lastName)+" "+e(t.customerDetails.firstName)+" // "+e(this.role),1)]),s("div",L,[s("ol",M,[s("li",P,[i(n,{to:"/dashboard"},{default:u(()=>[j]),_:1})]),U])])])])]),s("div",q,[s("div",G,[s("div",J,[s("div",K,[t.role==="billing-oficer"?(l(),a("div",Q,[i(n,{class:"btn btn-outline-success",to:"/create-customer"},{default:u(()=>[R,W]),_:1})])):C("",!0),s("div",{class:_(this.loaderDiv)},Y,2),s("div",{class:_(this.mainDiv)},[s("table",Z,[ss,s("tbody",null,[(l(!0),a(v,null,y(t.allcustomer,o=>(l(),a("tr",{key:o.id},[s("td",null,e(o.customerCode),1),s("td",null,e(o.firstname)+" "+e(o.lastname),1),s("td",null,e(o.mobileNumber1),1),s("td",null,[i(n,{to:"/customer-details/"+o.customerCode},{default:u(()=>[es]),_:2},1032,["to"])])]))),128))])])],2)])])])])])]),ts])]),i(f)],64)}var is=w(N,[["render",os]]);const ds={__name:"ViewCustomerView",setup(r){return(d,b)=>(l(),a("main",null,[i(g),i(is)]))}};export{ds as default};
