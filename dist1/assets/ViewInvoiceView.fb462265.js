import{H as g}from"./Header.47845ea9.js";import{_ as p,a as u,o as a,c as i,b as e,t as s,d as l,w as _,e as f,F as h,j as w,f as n,g as C,r as m}from"./index.e2874b00.js";const y={name:"viewinvoices",data(){return{name:"",allinvoice:[],role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""}}},async mounted(){this.role=localStorage.getItem("role");const c=await u.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=c.data.result;const d=await u.get("api/Invoice/"+this.customerDetails.organizationCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allinvoice=d.data.result,setTimeout(()=>{$("#datatable").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:10})})}},x={id:"layout-wrapper"},V={class:"main-content"},I={class:"page-content"},N={class:"container-fluid"},k={class:"row"},A={class:"col-12"},B={class:"page-title-box d-flex align-items-center justify-content-between"},D={class:"mb-0"},S=n("View Bills "),z=e("br",null,null,-1),L=n(),H={style:{"font-size":"14px","font-weight":"500"}},M=n(),O={style:{"font-size":"14px","font-weight":"500"}},T={class:"page-title-right"},j={class:"breadcrumb m-0"},F={class:"breadcrumb-item"},P=n("Home"),E=e("li",{class:"breadcrumb-item active"},"View Bills",-1),U={class:"row"},q={class:"col-12"},G={class:"card"},J={class:"card-body table-responsive"},K={key:0,class:"mb-4 text-right"},Q=e("i",{class:"fa fa-plus"},null,-1),R=n(" Create Bill"),W={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},X=e("thead",null,[e("tr",null,[e("th",null,"#Invoice"),e("th",null,"Customer Number"),e("th",null,"Currency"),e("th",null,"Amount"),e("th",null,"Payment Status"),e("th",null,"Action")])],-1),Y=["data-target"],Z=["id"],ee={class:"modal-dialog modal-dialog-centered modal-lg"},se={class:"modal-content"},te=e("div",{class:"modal-header"},[e("h5",{id:"myLargeModalLabel",class:"modal-title mt-0"},"View Invoice"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),oe={class:"modal-body"},le={class:"row"},ae={class:"col-md-3 mb-4"},ie={class:"form-group"},ne=e("label",{class:"control-label"},"Invoice Code",-1),ce={class:"col-md-3 mb-4"},de={class:"form-group"},re=e("label",{class:"control-label"},"Customer Code",-1),_e={class:"col-md-3 mb-4"},ue={class:"form-group"},he=e("label",{class:"control-label"},"Curency Code",-1),me={class:"col-md-3 mb-4"},be={class:"form-group"},ve=e("label",{class:"control-label"},"Amount",-1),ge={class:"col-md-3 mb-4"},pe={class:"form-group"},fe=e("label",{class:"control-label"},"Status",-1),we=e("hr",null,null,-1),Ce=e("button",{class:"btn btn-outline-success","data-dismiss":"modal"},"View Invoice",-1),ye=C('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function xe(c,d,b,Ie,o,Ne){const r=m("router-link"),v=m("router-view");return a(),i(h,null,[e("div",x,[e("div",V,[e("div",I,[e("div",N,[e("div",k,[e("div",A,[e("div",B,[e("h4",D,[S,z,L,e("span",H,s(o.customerDetails.organizationCode)+" // "+s(o.customerDetails.subOrganisationCode)+" //",1),M,e("span",O,s(o.customerDetails.lastName)+" "+s(o.customerDetails.firstName)+" // "+s(this.role),1)]),e("div",T,[e("ol",j,[e("li",F,[l(r,{to:"/dashboard"},{default:_(()=>[P]),_:1})]),E])])])])]),e("div",U,[e("div",q,[e("div",G,[e("div",J,[o.role==="billing-oficer"?(a(),i("div",K,[l(r,{class:"btn btn-outline-success",to:"/create-bill"},{default:_(()=>[Q,R]),_:1})])):f("",!0),e("table",W,[X,e("tbody",null,[(a(!0),i(h,null,w(o.allinvoice,t=>(a(),i("tr",{key:t.id},[e("td",null,s(t.invoiceCode),1),e("td",null,s(t.customerCode),1),e("td",null,s(t.currencyCode),1),e("td",null,s(t.invoiceAmount),1),e("td",null,s(t.paymentStatus),1),e("td",null,[e("button",{class:"btn btn-outline-success mr-2","data-toggle":"modal","data-target":"#bs-example-modal-lg-"+t.invoiceCode},"View",8,Y)]),e("div",{class:"modal fade",id:"bs-example-modal-lg-"+t.invoiceCode,tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"},[e("div",ee,[e("div",se,[te,e("div",oe,[e("div",le,[e("div",ae,[e("div",ie,[ne,e("h5",null,s(t.invoiceCode),1)])]),e("div",ce,[e("div",de,[re,e("h5",null,s(t.customerCode),1)])]),e("div",_e,[e("div",ue,[he,e("h5",null,s(t.currencyCode),1)])]),e("div",me,[e("div",be,[ve,e("h5",null,s(t.invoiceAmount),1)])]),e("div",ge,[e("div",pe,[fe,e("h5",null,s(t.paymentStatus),1)])])]),we,l(r,{to:"/bills/"+t.invoiceCode},{default:_(()=>[Ce]),_:2},1032,["to"])])])])],8,Z)]))),128))])])])])])])])]),ye])]),l(v)],64)}var Ve=p(y,[["render",xe]]);const Be={__name:"ViewInvoiceView",setup(c){return(d,b)=>(a(),i("main",null,[l(g),l(Ve)]))}};export{Be as default};
