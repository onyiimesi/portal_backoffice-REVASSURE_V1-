import{H as D}from"./Header.61007050.js";import{_ as N,a as c,o as l,c as a,b as s,t,d,w as m,s as e,F as g,k as w,f as r,h as n,r as y}from"./index.a5d27921.js";const C={name:"editorg",data(){return{errors:[],message:[],allorg:{organisationCode:"",organisationName:"",organisationEmail:"",organisationPhoneNumber:"",organisationAddress:"",organisationWebsite:"",parentOrganisationCode:""},role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},suborg:"",orgusers:"",loaderDiv:"",mainDiv:"d-none",loaderDivs:"",mainDivs:"d-none",loaderDivss:"",mainDivss:"d-none",roles:"0",roless:"portal-admin"}},async mounted(){this.role=localStorage.getItem("role"),this.roles!=this.role&&this.roless!=this.role&&(localStorage.removeItem("token"),this.$router.push("/"));const v=await c.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=v.data.result;const h=await c.get("api/Organisation/details/"+this.$route.params.organisationCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allorg=h.data.result,this.loaderDiv="d-none",this.mainDiv="";const p=await c.get("api/SubOrganisation/suborganizations/"+this.$route.params.organisationCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.suborg=p.data.result,this.loaderDivs="d-none",this.mainDivs="",setTimeout(()=>{$("#datatable").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:5,retrieve:!0})});const b=await c.get("api/Users/orgusers/"+this.$route.params.organisationCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.orgusers=b.data.result,this.loaderDivss="d-none",this.mainDivss="",setTimeout(()=>{$("#datatable1").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:5,retrieve:!0})})}},A={id:"layout-wrapper"},O={class:"main-content"},x={class:"page-content"},k={class:"container-fluid"},S={class:"row"},V={class:"col-12"},z={class:"page-title-box d-flex align-items-center justify-content-between"},B={class:"mb-0"},U=r("View Organisation "),I=s("br",null,null,-1),E=r(),P={style:{"font-size":"14px","font-weight":"500"}},T=r(" // "),F={style:{"font-size":"14px","font-weight":"500"}},H={class:"page-title-right"},L={class:"breadcrumb m-0"},G={class:"breadcrumb-item"},M=r("Home"),j=s("li",{class:"breadcrumb-item active"},"View Organisation",-1),W={class:"row"},q={class:"col-12"},J={class:"card"},K={class:"card-body"},Q={class:"row mb-5"},R={class:"col-md-6 mb-5"},X=n('<div class="ph-item"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div></div></div>',1),Y=[X],Z={class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},ss=s("th",{width:"200px"},"Name",-1),ts=s("th",null,"Code",-1),is=s("th",null,"Parent Organisation",-1),os=s("th",null,"Address",-1),es=s("th",null,"Email",-1),ls=s("button",{type:"button",class:"btn btn-outline-success"},"Update",-1),as=n('<div class="col-md-6 mb-5"><div class="table-responsive"><table class="table table-bordered dt-responsive nowrap" style="border-collapse:collapse;border-spacing:0;width:100%;"><thead><tr><th></th><th>Count</th><th>Amount</th></tr></thead><tbody><tr><td>Bill (NGN)</td><td>1,159</td><td>N20,000</td></tr><tr><td>Payment (NGN)</td><td>959</td><td>N120,000</td></tr><tr><td>Bill (USD)</td><td>559</td><td>$23,000</td></tr><tr><td>Payment (USD)</td><td>259</td><td>$1,000</td></tr></tbody></table></div></div>',1),ds={class:"row"},ns={class:"col-md-6 mb-5 table-responsive"},cs=s("h5",{class:"pb-2"},"Units",-1),rs=n('<div class="ph-item"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div></div></div>',1),vs=[rs],hs={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},ps=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"Unit"),s("th",null,"Action")])],-1),_s=s("button",{class:"btn btn-outline-success btn-sm"},"View",-1),us={class:"col-md-6"},ms=s("h5",{class:"pb-2"},"Users",-1),gs=n('<div class="ph-item"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div></div></div>',1),bs=[gs],ws={class:"table-responsive"},ys={id:"datatable1",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},fs=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"Full name"),s("th",null,"Email"),s("th",null,"Action")])],-1),Ds=s("td",null,[s("button",{class:"btn btn-outline-success btn-sm"},"View")],-1),Ns=n('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function Cs(v,h,p,b,i,Os){const _=y("router-link"),f=y("router-view");return l(),a(g,null,[s("div",A,[s("div",O,[s("div",x,[s("div",k,[s("div",S,[s("div",V,[s("div",z,[s("h4",B,[U,I,E,s("span",P,t(i.customerDetails.organizationCode)+" // "+t(i.customerDetails.subOrganisationCode),1),T,s("span",F,t(i.customerDetails.lastName)+" "+t(i.customerDetails.firstName)+" // "+t(this.role),1)]),s("div",H,[s("ol",L,[s("li",G,[d(_,{to:"/dashboard"},{default:m(()=>[M]),_:1})]),j])])])])]),s("div",W,[s("div",q,[s("div",J,[s("div",K,[s("div",Q,[s("div",R,[s("div",{class:e(this.loaderDiv)},Y,2),s("div",{class:e(this.mainDiv)},[s("table",Z,[s("tbody",null,[s("tr",null,[ss,s("td",null,t(i.allorg.organisationName),1)]),s("tr",null,[ts,s("td",null,t(i.allorg.organisationCode),1)]),s("tr",null,[is,s("td",null,t(i.allorg.parentOrganisationCode),1)]),s("tr",null,[os,s("td",null,t(i.allorg.organisationAddress),1)]),s("tr",null,[es,s("td",null,t(i.allorg.organisationEmail),1)])])])],2),d(_,{to:"/edit-org/"+i.allorg.organisationCode},{default:m(()=>[ls]),_:1},8,["to"])]),as]),s("div",ds,[s("div",ns,[cs,s("div",{class:e(this.loaderDivs)},vs,2),s("div",{class:e(this.mainDivs)},[s("table",hs,[ps,s("tbody",null,[(l(!0),a(g,null,w(i.suborg,(o,u)=>(l(),a("tr",null,[s("td",null,t(u+1),1),s("td",null,t(o.subOrganisationName),1),s("td",null,[d(_,{to:"/view-unit/"+o.subOrganisationCode},{default:m(()=>[_s]),_:2},1032,["to"])])]))),256))])])],2)]),s("div",us,[ms,s("div",{class:e(this.loaderDivss)},bs,2),s("div",{class:e(this.mainDivss)},[s("div",ws,[s("table",ys,[fs,s("tbody",null,[(l(!0),a(g,null,w(i.orgusers,(o,u)=>(l(),a("tr",null,[s("td",null,t(u+1),1),s("td",null,t(o.firstName)+" "+t(o.middleName)+" "+t(o.lastName),1),s("td",null,t(o.emailAddress),1),Ds]))),256))])])])],2)])])])])])])])]),Ns])]),d(f)],64)}var As=N(C,[["render",Cs]]);const Ss={__name:"ViewOrgView",setup(v){return(h,p)=>(l(),a("main",null,[d(D),d(As)]))}};export{Ss as default};
