import{H as f}from"./Header.47845ea9.js";import{_ as w,a as d,o as a,c as l,b as e,t as s,d as i,w as m,e as _,F as h,j as p,f as n,g as y,r as b}from"./index.e2874b00.js";const N={name:"viewbanks",data(){return{name:"",allusers:[],role:"",customerDetails:{emailAddress:"",subOrganisationCode:"",organizationCode:"",firstName:"",lastName:"",middleName:"",gender:"",unit:""},search:"",showsearch:!1,caris:[]}},async mounted(){this.role=localStorage.getItem("role");const r=await d.get("api/Users/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.customerDetails=r.data.result;const c=await d.get("api/Users/users",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allusers=c.data.result,setTimeout(()=>{$("#datatable").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],pageLength:10})})},methods:{async searchUser(){await d.get("api/Users/search?searchstring="+this.search,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(r=>{this.caris=r.data.result,this.search="",this.showsearch=!0}).catch(r=>{console.log(r)})}}},k={id:"layout-wrapper"},x={class:"main-content"},U={class:"page-content"},V={class:"container-fluid"},A={class:"row"},C={class:"col-12"},D={class:"page-title-box d-flex align-items-center justify-content-between"},z={class:"mb-0"},B=n("View Users "),S=e("br",null,null,-1),F=n(),I={style:{"font-size":"14px","font-weight":"500"}},L=n(),E={style:{"font-size":"14px","font-weight":"500"}},H={class:"page-title-right"},O={class:"breadcrumb m-0"},T={class:"breadcrumb-item"},j=n("Home"),M=e("li",{class:"breadcrumb-item active"},"View Users",-1),P={class:"row"},q={class:"col-12"},G={key:0,class:"card"},J={class:"card-body table-responsive"},K={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},Q=e("thead",null,[e("tr",null,[e("th",null,"First Name"),e("th",null,"Last Name"),e("th",null,"Email Address")])],-1),R={key:0,class:"text-center"},W=e("td",{colspan:"7"},[e("h3",{style:{color:"red"}},"User Not Found!")],-1),X=[W],Y={key:1,class:"card"},Z={class:"card-body table-responsive"},ee={class:"mb-4 text-right"},se=e("i",{class:"fa fa-plus"},null,-1),te=n(" Create User"),oe={id:"datatable",class:"table table-bordered dt-responsive nowrap",style:{"border-collapse":"collapse","border-spacing":"0",width:"100%"}},ae=e("thead",null,[e("tr",null,[e("th",null,"First Name"),e("th",null,"Last Name"),e("th",null,"Email Address")])],-1),le=y('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-sm-6"> BackOffice 0.1 \xA9 2022 </div><div class="col-sm-6"><div class="text-sm-right d-none d-sm-block"> Powered by Intelligence </div></div></div></div></footer>',1);function re(r,c,g,ne,t,ce){const u=b("router-link"),v=b("router-view");return a(),l(h,null,[e("div",k,[e("div",x,[e("div",U,[e("div",V,[e("div",A,[e("div",C,[e("div",D,[e("h4",z,[B,S,F,e("span",I,s(t.customerDetails.organizationCode)+" // "+s(t.customerDetails.subOrganisationCode)+" //",1),L,e("span",E,s(t.customerDetails.lastName)+" "+s(t.customerDetails.firstName)+" // "+s(this.role),1)]),e("div",H,[e("ol",O,[e("li",T,[i(u,{to:"/dashboard"},{default:m(()=>[j]),_:1})]),M])])])])]),e("div",P,[e("div",q,[t.showsearch==!0?(a(),l("div",G,[e("div",J,[e("table",K,[Q,e("tbody",null,[t.caris.length?_("",!0):(a(),l("tr",R,X)),(a(!0),l(h,null,p(t.caris,o=>(a(),l("tr",{key:o.id},[e("td",null,s(o.firstName),1),e("td",null,s(o.lastName),1),e("td",null,s(o.emailAddress),1)]))),128))])])])])):_("",!0),t.showsearch==!1?(a(),l("div",Y,[e("div",Z,[e("div",ee,[i(u,{class:"btn btn-outline-success",to:"/create-user"},{default:m(()=>[se,te]),_:1})]),e("table",oe,[ae,e("tbody",null,[(a(!0),l(h,null,p(t.allusers,o=>(a(),l("tr",{key:o.id},[e("td",null,s(o.firstName),1),e("td",null,s(o.lastName),1),e("td",null,s(o.emailAddress),1)]))),128))])])])])):_("",!0)])])])]),le])]),i(v)],64)}var ie=w(N,[["render",re]]);const he={__name:"ViewUsersView",setup(r){return(c,g)=>(a(),l("main",null,[i(f),i(ie)]))}};export{he as default};
